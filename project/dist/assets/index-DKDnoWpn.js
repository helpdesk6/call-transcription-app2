(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var tc={exports:{}},di={},rc={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=Symbol.for("react.element"),rf=Symbol.for("react.portal"),nf=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),af=Symbol.for("react.provider"),lf=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),df=Symbol.for("react.memo"),hf=Symbol.for("react.lazy"),wl=Symbol.iterator;function ff(e){return e===null||typeof e!="object"?null:(e=wl&&e[wl]||e["@@iterator"],typeof e=="function"?e:null)}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sc=Object.assign,ic={};function Jr(e,t,r){this.props=e,this.context=t,this.refs=ic,this.updater=r||nc}Jr.prototype.isReactComponent={};Jr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oc(){}oc.prototype=Jr.prototype;function _a(e,t,r){this.props=e,this.context=t,this.refs=ic,this.updater=r||nc}var xa=_a.prototype=new oc;xa.constructor=_a;sc(xa,Jr.prototype);xa.isPureReactComponent=!0;var _l=Array.isArray,ac=Object.prototype.hasOwnProperty,ka={current:null},lc={key:!0,ref:!0,__self:!0,__source:!0};function uc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ac.call(t,n)&&!lc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Kn,type:e,key:i,ref:o,props:s,_owner:ka.current}}function pf(e,t){return{$$typeof:Kn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kn}function mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xl=/\/+/g;function Di(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mf(""+e.key):t.toString(36)}function js(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kn:case rf:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Di(o,0):n,_l(s)?(r="",e!=null&&(r=e.replace(xl,"$&/")+"/"),js(s,t,r,"",function(u){return u})):s!=null&&(Sa(s)&&(s=pf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xl,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",_l(e))for(var a=0;a<e.length;a++){i=e[a];var l=n+Di(i,a);o+=js(i,t,r,l,s)}else if(l=ff(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=n+Di(i,a++),o+=js(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function rs(e,t,r){if(e==null)return e;var n=[],s=0;return js(e,n,"","",function(i){return t.call(r,i,s++)}),n}function gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},Cs={transition:null},yf={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:ka};function cc(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:rs,forEach:function(e,t,r){rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rs(e,function(){t++}),t},toArray:function(e){return rs(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=Jr;L.Fragment=nf;L.Profiler=of;L.PureComponent=_a;L.StrictMode=sf;L.Suspense=cf;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;L.act=cc;L.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ka.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ac.call(t,l)&&!lc.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Kn,type:e.type,key:s,ref:i,props:n,_owner:o}};L.createContext=function(e){return e={$$typeof:lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:af,_context:e},e.Consumer=e};L.createElement=uc;L.createFactory=function(e){var t=uc.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:uf,render:e}};L.isValidElement=Sa;L.lazy=function(e){return{$$typeof:hf,_payload:{_status:-1,_result:e},_init:gf}};L.memo=function(e,t){return{$$typeof:df,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};L.unstable_act=cc;L.useCallback=function(e,t){return ke.current.useCallback(e,t)};L.useContext=function(e){return ke.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};L.useEffect=function(e,t){return ke.current.useEffect(e,t)};L.useId=function(){return ke.current.useId()};L.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};L.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return ke.current.useMemo(e,t)};L.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};L.useRef=function(e){return ke.current.useRef(e)};L.useState=function(e){return ke.current.useState(e)};L.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};L.useTransition=function(){return ke.current.useTransition()};L.version="18.3.1";rc.exports=L;var P=rc.exports;const vf=ec(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=P,_f=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),kf=Object.prototype.hasOwnProperty,Sf=wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ef={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kf.call(t,n)&&!Ef.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_f,type:e,key:i,ref:o,props:s,_owner:Sf.current}}di.Fragment=xf;di.jsx=dc;di.jsxs=dc;tc.exports=di;var d=tc.exports,hc={exports:{}},Le={},fc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,A){var N=j.length;j.push(A);e:for(;0<N;){var q=N-1>>>1,le=j[q];if(0<s(le,A))j[q]=A,j[N]=le,N=q;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var A=j[0],N=j.pop();if(N!==A){j[0]=N;e:for(var q=0,le=j.length,es=le>>>1;q<es;){var Kt=2*(q+1)-1,Li=j[Kt],Jt=Kt+1,ts=j[Jt];if(0>s(Li,N))Jt<le&&0>s(ts,Li)?(j[q]=ts,j[Jt]=N,q=Jt):(j[q]=Li,j[Kt]=N,q=Kt);else if(Jt<le&&0>s(ts,N))j[q]=ts,j[Jt]=N,q=Jt;else break e}}return A}function s(j,A){var N=j.sortIndex-A.sortIndex;return N!==0?N:j.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,p=3,y=!1,v=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=j)n(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=r(u)}}function x(j){if(w=!1,g(j),!v)if(r(l)!==null)v=!0,B(E);else{var A=r(u);A!==null&&we(x,A.startTime-j)}}function E(j,A){v=!1,w&&(w=!1,m(C),C=-1),y=!0;var N=p;try{for(g(A),h=r(l);h!==null&&(!(h.expirationTime>A)||j&&!z());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var le=q(h.expirationTime<=A);A=e.unstable_now(),typeof le=="function"?h.callback=le:h===r(l)&&n(l),g(A)}else n(l);h=r(l)}if(h!==null)var es=!0;else{var Kt=r(u);Kt!==null&&we(x,Kt.startTime-A),es=!1}return es}finally{h=null,p=N,y=!1}}var b=!1,_=null,C=-1,F=5,$=-1;function z(){return!(e.unstable_now()-$<F)}function O(){if(_!==null){var j=e.unstable_now();$=j;var A=!0;try{A=_(!0,j)}finally{A?M():(b=!1,_=null)}}else b=!1}var M;if(typeof f=="function")M=function(){f(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=O,M=function(){X.postMessage(null)}}else M=function(){k(O,0)};function B(j){_=j,b||(b=!0,M())}function we(j,A){C=k(function(){j(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,B(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var N=p;p=A;try{return j()}finally{p=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,A){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var N=p;p=j;try{return A()}finally{p=N}},e.unstable_scheduleCallback=function(j,A,N){var q=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?q+N:q):N=q,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=N+le,j={id:c++,callback:A,priorityLevel:j,startTime:N,expirationTime:le,sortIndex:-1},N>q?(j.sortIndex=N,t(u,j),r(l)===null&&j===r(u)&&(w?(m(C),C=-1):w=!0,we(x,N-q))):(j.sortIndex=le,t(l,j),v||y||(v=!0,B(E))),j},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(j){var A=p;return function(){var N=p;p=A;try{return j.apply(this,arguments)}finally{p=N}}}})(pc);fc.exports=pc;var jf=fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf=P,Re=jf;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mc=new Set,Tn={};function cr(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(Tn[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=Object.prototype.hasOwnProperty,Tf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kl={},Sl={};function bf(e){return vo.call(Sl,e)?!0:vo.call(kl,e)?!1:Tf.test(e)?Sl[e]=!0:(kl[e]=!0,!1)}function Pf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nf(e,t,r,n){if(t===null||typeof t>"u"||Pf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ea=/[\-:]([a-z])/g;function ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ea,ja);pe[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ea,ja);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ea,ja);pe[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ca(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nf(t,r,s,n)&&(r=null),n||s===null?bf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vt=Cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),wr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Ta=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),_o=Symbol.for("react.suspense"),xo=Symbol.for("react.suspense_list"),Pa=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),vc=Symbol.for("react.offscreen"),El=Symbol.iterator;function Yr(e){return e===null||typeof e!="object"?null:(e=El&&e[El]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,zi;function cn(e){if(zi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zi=t&&t[1]||""}return`
`+zi+e}var Mi=!1;function Ui(e,t){if(!e||Mi)return"";Mi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cn(e):""}function $f(e){switch(e.tag){case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return cn("Suspense");case 19:return cn("SuspenseList");case 0:case 2:case 15:return e=Ui(e.type,!1),e;case 11:return e=Ui(e.type.render,!1),e;case 1:return e=Ui(e.type,!0),e;default:return""}}function ko(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case wr:return"Portal";case wo:return"Profiler";case Ta:return"StrictMode";case _o:return"Suspense";case xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yc:return(e.displayName||"Context")+".Consumer";case gc:return(e._context.displayName||"Context")+".Provider";case ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pa:return t=e.displayName||null,t!==null?t:ko(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return ko(e(t))}catch{}}return null}function Of(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ko(t);case 8:return t===Ta?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Af(e){var t=wc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=Af(e))}function _c(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function So(e,t){var r=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ut(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xc(e,t){t=t.checked,t!=null&&Ca(e,"checked",t,!1)}function Eo(e,t){xc(e,t);var r=Ut(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jo(e,t.type,r):t.hasOwnProperty("defaultValue")&&jo(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jo(e,t,r){(t!=="number"||Ms(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var dn=Array.isArray;function $r(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ut(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(S(92));if(dn(r)){if(1<r.length)throw Error(S(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ut(r)}}function kc(e,t){var r=Ut(t.value),n=Ut(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function To(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var is,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=is.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},If=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(e){If.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mn[t]=mn[e]})});function jc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mn.hasOwnProperty(e)&&mn[e]?(""+t).trim():t+"px"}function Cc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Rf=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(e,t){if(t){if(Rf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Po(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var No=null;function Na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $o=null,Or=null,Ar=null;function Pl(e){if(e=Qn(e)){if(typeof $o!="function")throw Error(S(280));var t=e.stateNode;t&&(t=gi(t),$o(e.stateNode,e.type,t))}}function Tc(e){Or?Ar?Ar.push(e):Ar=[e]:Or=e}function bc(){if(Or){var e=Or,t=Ar;if(Ar=Or=null,Pl(e),t)for(e=0;e<t.length;e++)Pl(t[e])}}function Pc(e,t){return e(t)}function Nc(){}var Fi=!1;function $c(e,t,r){if(Fi)return e(t,r);Fi=!0;try{return Pc(e,t,r)}finally{Fi=!1,(Or!==null||Ar!==null)&&(Nc(),bc())}}function Pn(e,t){var r=e.stateNode;if(r===null)return null;var n=gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(S(231,t,typeof r));return r}var Oo=!1;if(ft)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Oo=!1}function Lf(e,t,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var gn=!1,Us=null,Fs=!1,Ao=null,Df={onError:function(e){gn=!0,Us=e}};function zf(e,t,r,n,s,i,o,a,l){gn=!1,Us=null,Lf.apply(Df,arguments)}function Mf(e,t,r,n,s,i,o,a,l){if(zf.apply(this,arguments),gn){if(gn){var u=Us;gn=!1,Us=null}else throw Error(S(198));Fs||(Fs=!0,Ao=u)}}function dr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Oc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nl(e){if(dr(e)!==e)throw Error(S(188))}function Uf(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nl(s),e;if(i===n)return Nl(s),t;i=i.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?e:t}function Ac(e){return e=Uf(e),e!==null?Ic(e):null}function Ic(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ic(e);if(t!==null)return t;e=e.sibling}return null}var Rc=Re.unstable_scheduleCallback,$l=Re.unstable_cancelCallback,Ff=Re.unstable_shouldYield,Bf=Re.unstable_requestPaint,se=Re.unstable_now,Vf=Re.unstable_getCurrentPriorityLevel,$a=Re.unstable_ImmediatePriority,Lc=Re.unstable_UserBlockingPriority,Bs=Re.unstable_NormalPriority,Hf=Re.unstable_LowPriority,Dc=Re.unstable_IdlePriority,hi=null,nt=null;function Wf(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(hi,e,void 0,(e.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:qf,Kf=Math.log,Jf=Math.LN2;function qf(e){return e>>>=0,e===0?32:31-(Kf(e)/Jf|0)|0}var os=64,as=4194304;function hn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=hn(a):(i&=o,i!==0&&(n=hn(i)))}else o=r&~s,o!==0?n=hn(o):i!==0&&(n=hn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ge(t),s=1<<r,n|=e[r],t&=~s;return n}function Qf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ge(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Qf(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Io(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zc(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function Bi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ge(t),e[t]=r}function Xf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ge(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Oa(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ge(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function Mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Uc,Aa,Fc,Bc,Vc,Ro=!1,ls=[],Ot=null,At=null,It=null,Nn=new Map,$n=new Map,jt=[],Yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function en(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Qn(t),t!==null&&Aa(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zf(e,t,r,n,s){switch(t){case"focusin":return Ot=en(Ot,e,t,r,n,s),!0;case"dragenter":return At=en(At,e,t,r,n,s),!0;case"mouseover":return It=en(It,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Nn.set(i,en(Nn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,$n.set(i,en($n.get(i)||null,e,t,r,n,s)),!0}return!1}function Hc(e){var t=Zt(e.target);if(t!==null){var r=dr(t);if(r!==null){if(t=r.tag,t===13){if(t=Oc(r),t!==null){e.blockedOn=t,Vc(e.priority,function(){Fc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);No=n,r.target.dispatchEvent(n),No=null}else return t=Qn(r),t!==null&&Aa(t),e.blockedOn=r,!1;t.shift()}return!0}function Al(e,t,r){Ts(e)&&r.delete(t)}function ep(){Ro=!1,Ot!==null&&Ts(Ot)&&(Ot=null),At!==null&&Ts(At)&&(At=null),It!==null&&Ts(It)&&(It=null),Nn.forEach(Al),$n.forEach(Al)}function tn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ro||(Ro=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,ep)))}function On(e){function t(s){return tn(s,e)}if(0<ls.length){tn(ls[0],e);for(var r=1;r<ls.length;r++){var n=ls[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ot!==null&&tn(Ot,e),At!==null&&tn(At,e),It!==null&&tn(It,e),Nn.forEach(t),$n.forEach(t),r=0;r<jt.length;r++)n=jt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Hc(r),r.blockedOn===null&&jt.shift()}var Ir=vt.ReactCurrentBatchConfig,Hs=!0;function tp(e,t,r,n){var s=V,i=Ir.transition;Ir.transition=null;try{V=1,Ia(e,t,r,n)}finally{V=s,Ir.transition=i}}function rp(e,t,r,n){var s=V,i=Ir.transition;Ir.transition=null;try{V=4,Ia(e,t,r,n)}finally{V=s,Ir.transition=i}}function Ia(e,t,r,n){if(Hs){var s=Lo(e,t,r,n);if(s===null)Yi(e,t,n,Ws,r),Ol(e,n);else if(Zf(s,e,t,r,n))n.stopPropagation();else if(Ol(e,n),t&4&&-1<Yf.indexOf(e)){for(;s!==null;){var i=Qn(s);if(i!==null&&Uc(i),i=Lo(e,t,r,n),i===null&&Yi(e,t,n,Ws,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Yi(e,t,n,null,r)}}var Ws=null;function Lo(e,t,r,n){if(Ws=null,e=Na(n),e=Zt(e),e!==null)if(t=dr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Oc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ws=e,null}function Wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vf()){case $a:return 1;case Lc:return 4;case Bs:case Hf:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var Nt=null,Ra=null,bs=null;function Kc(){if(bs)return bs;var e,t=Ra,r=t.length,n,s="value"in Nt?Nt.value:Nt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return bs=s.slice(e,1<n?1-n:void 0)}function Ps(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function Il(){return!1}function De(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:Il,this.isPropagationStopped=Il,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=De(qr),qn=te({},qr,{view:0,detail:0}),np=De(qn),Vi,Hi,rn,fi=te({},qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(Vi=e.screenX-rn.screenX,Hi=e.screenY-rn.screenY):Hi=Vi=0,rn=e),Vi)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),Rl=De(fi),sp=te({},fi,{dataTransfer:0}),ip=De(sp),op=te({},qn,{relatedTarget:0}),Wi=De(op),ap=te({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=De(ap),up=te({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cp=De(up),dp=te({},qr,{data:0}),Ll=De(dp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pp[e])?!!t[e]:!1}function Da(){return mp}var gp=te({},qn,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yp=De(gp),vp=te({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=De(vp),wp=te({},qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),_p=De(wp),xp=te({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=De(xp),Sp=te({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=De(Sp),jp=[9,13,27,32],za=ft&&"CompositionEvent"in window,yn=null;ft&&"documentMode"in document&&(yn=document.documentMode);var Cp=ft&&"TextEvent"in window&&!yn,Jc=ft&&(!za||yn&&8<yn&&11>=yn),zl=" ",Ml=!1;function qc(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function Tp(e,t){switch(e){case"compositionend":return Qc(t);case"keypress":return t.which!==32?null:(Ml=!0,zl);case"textInput":return e=t.data,e===zl&&Ml?null:e;default:return null}}function bp(e,t){if(xr)return e==="compositionend"||!za&&qc(e,t)?(e=Kc(),bs=Ra=Nt=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jc&&t.locale!=="ko"?null:t.data;default:return null}}var Pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pp[e.type]:t==="textarea"}function Gc(e,t,r,n){Tc(n),t=Ks(t,"onChange"),0<t.length&&(r=new La("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vn=null,An=null;function Np(e){ad(e,0)}function pi(e){var t=Er(e);if(_c(t))return e}function $p(e,t){if(e==="change")return t}var Xc=!1;if(ft){var Ki;if(ft){var Ji="oninput"in document;if(!Ji){var Fl=document.createElement("div");Fl.setAttribute("oninput","return;"),Ji=typeof Fl.oninput=="function"}Ki=Ji}else Ki=!1;Xc=Ki&&(!document.documentMode||9<document.documentMode)}function Bl(){vn&&(vn.detachEvent("onpropertychange",Yc),An=vn=null)}function Yc(e){if(e.propertyName==="value"&&pi(An)){var t=[];Gc(t,An,e,Na(e)),$c(Np,t)}}function Op(e,t,r){e==="focusin"?(Bl(),vn=t,An=r,vn.attachEvent("onpropertychange",Yc)):e==="focusout"&&Bl()}function Ap(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pi(An)}function Ip(e,t){if(e==="click")return pi(t)}function Rp(e,t){if(e==="input"||e==="change")return pi(t)}function Lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ye=typeof Object.is=="function"?Object.is:Lp;function In(e,t){if(Ye(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!vo.call(t,s)||!Ye(e[s],t[s]))return!1}return!0}function Vl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hl(e,t){var r=Vl(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vl(r)}}function Zc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(){for(var e=window,t=Ms();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dp(e){var t=ed(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Zc(r.ownerDocument.documentElement,r)){if(n!==null&&Ma(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Hl(r,i);var o=Hl(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zp=ft&&"documentMode"in document&&11>=document.documentMode,kr=null,Do=null,wn=null,zo=!1;function Wl(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zo||kr==null||kr!==Ms(n)||(n=kr,"selectionStart"in n&&Ma(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wn&&In(wn,n)||(wn=n,n=Ks(Do,"onSelect"),0<n.length&&(t=new La("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kr)))}function cs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sr={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},qi={},td={};ft&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function mi(e){if(qi[e])return qi[e];if(!Sr[e])return e;var t=Sr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in td)return qi[e]=t[r];return e}var rd=mi("animationend"),nd=mi("animationiteration"),sd=mi("animationstart"),id=mi("transitionend"),od=new Map,Kl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){od.set(e,t),cr(t,[e])}for(var Qi=0;Qi<Kl.length;Qi++){var Gi=Kl[Qi],Mp=Gi.toLowerCase(),Up=Gi[0].toUpperCase()+Gi.slice(1);Bt(Mp,"on"+Up)}Bt(rd,"onAnimationEnd");Bt(nd,"onAnimationIteration");Bt(sd,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(id,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(fn));function Jl(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Mf(n,t,void 0,e),e.currentTarget=null}function ad(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jl(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jl(s,a,u),i=l}}}if(Fs)throw e=Ao,Fs=!1,Ao=null,e}function Q(e,t){var r=t[Vo];r===void 0&&(r=t[Vo]=new Set);var n=e+"__bubble";r.has(n)||(ld(t,e,2,!1),r.add(n))}function Xi(e,t,r){var n=0;t&&(n|=4),ld(r,e,n,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Rn(e){if(!e[ds]){e[ds]=!0,mc.forEach(function(r){r!=="selectionchange"&&(Fp.has(r)||Xi(r,!1,e),Xi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Xi("selectionchange",!1,t))}}function ld(e,t,r,n){switch(Wc(t)){case 1:var s=tp;break;case 4:s=rp;break;default:s=Ia}r=s.bind(null,t,r,e),s=void 0,!Oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Yi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zt(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}$c(function(){var u=i,c=Na(r),h=[];e:{var p=od.get(e);if(p!==void 0){var y=La,v=e;switch(e){case"keypress":if(Ps(r)===0)break e;case"keydown":case"keyup":y=yp;break;case"focusin":v="focus",y=Wi;break;case"focusout":v="blur",y=Wi;break;case"beforeblur":case"afterblur":y=Wi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_p;break;case rd:case nd:case sd:y=lp;break;case id:y=kp;break;case"scroll":y=np;break;case"wheel":y=Ep;break;case"copy":case"cut":case"paste":y=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Dl}var w=(t&4)!==0,k=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,g;f!==null;){g=f;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,m!==null&&(x=Pn(f,m),x!=null&&w.push(Ln(f,x,g)))),k)break;f=f.return}0<w.length&&(p=new y(p,v,null,r,c),h.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==No&&(v=r.relatedTarget||r.fromElement)&&(Zt(v)||v[pt]))break e;if((y||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?Zt(v):null,v!==null&&(k=dr(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=Rl,x="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Dl,x="onPointerLeave",m="onPointerEnter",f="pointer"),k=y==null?p:Er(y),g=v==null?p:Er(v),p=new w(x,f+"leave",y,r,c),p.target=k,p.relatedTarget=g,x=null,Zt(c)===u&&(w=new w(m,f+"enter",v,r,c),w.target=g,w.relatedTarget=k,x=w),k=x,y&&v)t:{for(w=y,m=v,f=0,g=w;g;g=mr(g))f++;for(g=0,x=m;x;x=mr(x))g++;for(;0<f-g;)w=mr(w),f--;for(;0<g-f;)m=mr(m),g--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=mr(w),m=mr(m)}w=null}else w=null;y!==null&&ql(h,p,y,w,!1),v!==null&&k!==null&&ql(h,k,v,w,!0)}}e:{if(p=u?Er(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var E=$p;else if(Ul(p))if(Xc)E=Rp;else{E=Ap;var b=Op}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Ip);if(E&&(E=E(e,u))){Gc(h,E,r,c);break e}b&&b(e,p,u),e==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&jo(p,"number",p.value)}switch(b=u?Er(u):window,e){case"focusin":(Ul(b)||b.contentEditable==="true")&&(kr=b,Do=u,wn=null);break;case"focusout":wn=Do=kr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Wl(h,r,c);break;case"selectionchange":if(zp)break;case"keydown":case"keyup":Wl(h,r,c)}var _;if(za)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xr?qc(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Jc&&r.locale!=="ko"&&(xr||C!=="onCompositionStart"?C==="onCompositionEnd"&&xr&&(_=Kc()):(Nt=c,Ra="value"in Nt?Nt.value:Nt.textContent,xr=!0)),b=Ks(u,C),0<b.length&&(C=new Ll(C,e,null,r,c),h.push({event:C,listeners:b}),_?C.data=_:(_=Qc(r),_!==null&&(C.data=_)))),(_=Cp?Tp(e,r):bp(e,r))&&(u=Ks(u,"onBeforeInput"),0<u.length&&(c=new Ll("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=_))}ad(h,t)})}function Ln(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ks(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pn(e,r),i!=null&&n.unshift(Ln(e,i,s)),i=Pn(e,t),i!=null&&n.push(Ln(e,i,s))),e=e.return}return n}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ql(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Pn(r,i),l!=null&&o.unshift(Ln(r,l,a))):s||(l=Pn(r,i),l!=null&&o.push(Ln(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Bp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Ql(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Vp,"")}function hs(e,t,r){if(t=Ql(t),Ql(e)!==t&&r)throw Error(S(425))}function Js(){}var Mo=null,Uo=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Gl=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Gl<"u"?function(e){return Gl.resolve(null).then(e).catch(Kp)}:Bo;function Kp(e){setTimeout(function(){throw e})}function Zi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),On(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);On(t)}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),rt="__reactFiber$"+Qr,Dn="__reactProps$"+Qr,pt="__reactContainer$"+Qr,Vo="__reactEvents$"+Qr,Jp="__reactListeners$"+Qr,qp="__reactHandles$"+Qr;function Zt(e){var t=e[rt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pt]||r[rt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xl(e);e!==null;){if(r=e[rt])return r;e=Xl(e)}return t}e=r,r=e.parentNode}return null}function Qn(e){return e=e[rt]||e[pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function gi(e){return e[Dn]||null}var Ho=[],jr=-1;function Vt(e){return{current:e}}function G(e){0>jr||(e.current=Ho[jr],Ho[jr]=null,jr--)}function J(e,t){jr++,Ho[jr]=e.current,e.current=t}var Ft={},ve=Vt(Ft),be=Vt(!1),sr=Ft;function Mr(e,t){var r=e.type.contextTypes;if(!r)return Ft;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function qs(){G(be),G(ve)}function Yl(e,t,r){if(ve.current!==Ft)throw Error(S(168));J(ve,t),J(be,r)}function ud(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(S(108,Of(e)||"Unknown",s));return te({},r,n)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,sr=ve.current,J(ve,e),J(be,be.current),!0}function Zl(e,t,r){var n=e.stateNode;if(!n)throw Error(S(169));r?(e=ud(e,t,sr),n.__reactInternalMemoizedMergedChildContext=e,G(be),G(ve),J(ve,e)):G(be),J(be,r)}var ut=null,yi=!1,eo=!1;function cd(e){ut===null?ut=[e]:ut.push(e)}function Qp(e){yi=!0,cd(e)}function Ht(){if(!eo&&ut!==null){eo=!0;var e=0,t=V;try{var r=ut;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ut=null,yi=!1}catch(s){throw ut!==null&&(ut=ut.slice(e+1)),Rc($a,Ht),s}finally{V=t,eo=!1}}return null}var Cr=[],Tr=0,Gs=null,Xs=0,ze=[],Me=0,ir=null,ct=1,dt="";function Qt(e,t){Cr[Tr++]=Xs,Cr[Tr++]=Gs,Gs=e,Xs=t}function dd(e,t,r){ze[Me++]=ct,ze[Me++]=dt,ze[Me++]=ir,ir=e;var n=ct;e=dt;var s=32-Ge(n)-1;n&=~(1<<s),r+=1;var i=32-Ge(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ct=1<<32-Ge(t)+s|r<<s|n,dt=i+e}else ct=1<<i|r<<s|n,dt=e}function Ua(e){e.return!==null&&(Qt(e,1),dd(e,1,0))}function Fa(e){for(;e===Gs;)Gs=Cr[--Tr],Cr[Tr]=null,Xs=Cr[--Tr],Cr[Tr]=null;for(;e===ir;)ir=ze[--Me],ze[Me]=null,dt=ze[--Me],ze[Me]=null,ct=ze[--Me],ze[Me]=null}var Ie=null,Ae=null,Y=!1,Qe=null;function hd(e,t){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=Rt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ir!==null?{id:ct,overflow:dt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ie=e,Ae=null,!0):!1;default:return!1}}function Wo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ko(e){if(Y){var t=Ae;if(t){var r=t;if(!eu(e,t)){if(Wo(e))throw Error(S(418));t=Rt(r.nextSibling);var n=Ie;t&&eu(e,t)?hd(n,r):(e.flags=e.flags&-4097|2,Y=!1,Ie=e)}}else{if(Wo(e))throw Error(S(418));e.flags=e.flags&-4097|2,Y=!1,Ie=e}}}function tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function fs(e){if(e!==Ie)return!1;if(!Y)return tu(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=Ae)){if(Wo(e))throw fd(),Error(S(418));for(;t;)hd(e,t),t=Rt(t.nextSibling)}if(tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=Rt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Ie?Rt(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=Ae;e;)e=Rt(e.nextSibling)}function Ur(){Ae=Ie=null,Y=!1}function Ba(e){Qe===null?Qe=[e]:Qe.push(e)}var Gp=vt.ReactCurrentBatchConfig;function nn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,e))}return e}function ps(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function pd(e){function t(m,f){if(e){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Mt(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,x){return f===null||f.tag!==6?(f=ao(g,m.mode,x),f.return=m,f):(f=s(f,g),f.return=m,f)}function l(m,f,g,x){var E=g.type;return E===_r?c(m,f,g.props.children,x,g.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&ru(E)===f.type)?(x=s(f,g.props),x.ref=nn(m,f,g),x.return=m,x):(x=Ls(g.type,g.key,g.props,null,m.mode,x),x.ref=nn(m,f,g),x.return=m,x)}function u(m,f,g,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=lo(g,m.mode,x),f.return=m,f):(f=s(f,g.children||[]),f.return=m,f)}function c(m,f,g,x,E){return f===null||f.tag!==7?(f=nr(g,m.mode,x,E),f.return=m,f):(f=s(f,g),f.return=m,f)}function h(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ao(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:return g=Ls(f.type,f.key,f.props,null,m.mode,g),g.ref=nn(m,null,f),g.return=m,g;case wr:return f=lo(f,m.mode,g),f.return=m,f;case kt:var x=f._init;return h(m,x(f._payload),g)}if(dn(f)||Yr(f))return f=nr(f,m.mode,g,null),f.return=m,f;ps(m,f)}return null}function p(m,f,g,x){var E=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,f,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ns:return g.key===E?l(m,f,g,x):null;case wr:return g.key===E?u(m,f,g,x):null;case kt:return E=g._init,p(m,f,E(g._payload),x)}if(dn(g)||Yr(g))return E!==null?null:c(m,f,g,x,null);ps(m,g)}return null}function y(m,f,g,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(g)||null,a(f,m,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ns:return m=m.get(x.key===null?g:x.key)||null,l(f,m,x,E);case wr:return m=m.get(x.key===null?g:x.key)||null,u(f,m,x,E);case kt:var b=x._init;return y(m,f,g,b(x._payload),E)}if(dn(x)||Yr(x))return m=m.get(g)||null,c(f,m,x,E,null);ps(f,x)}return null}function v(m,f,g,x){for(var E=null,b=null,_=f,C=f=0,F=null;_!==null&&C<g.length;C++){_.index>C?(F=_,_=null):F=_.sibling;var $=p(m,_,g[C],x);if($===null){_===null&&(_=F);break}e&&_&&$.alternate===null&&t(m,_),f=i($,f,C),b===null?E=$:b.sibling=$,b=$,_=F}if(C===g.length)return r(m,_),Y&&Qt(m,C),E;if(_===null){for(;C<g.length;C++)_=h(m,g[C],x),_!==null&&(f=i(_,f,C),b===null?E=_:b.sibling=_,b=_);return Y&&Qt(m,C),E}for(_=n(m,_);C<g.length;C++)F=y(_,m,C,g[C],x),F!==null&&(e&&F.alternate!==null&&_.delete(F.key===null?C:F.key),f=i(F,f,C),b===null?E=F:b.sibling=F,b=F);return e&&_.forEach(function(z){return t(m,z)}),Y&&Qt(m,C),E}function w(m,f,g,x){var E=Yr(g);if(typeof E!="function")throw Error(S(150));if(g=E.call(g),g==null)throw Error(S(151));for(var b=E=null,_=f,C=f=0,F=null,$=g.next();_!==null&&!$.done;C++,$=g.next()){_.index>C?(F=_,_=null):F=_.sibling;var z=p(m,_,$.value,x);if(z===null){_===null&&(_=F);break}e&&_&&z.alternate===null&&t(m,_),f=i(z,f,C),b===null?E=z:b.sibling=z,b=z,_=F}if($.done)return r(m,_),Y&&Qt(m,C),E;if(_===null){for(;!$.done;C++,$=g.next())$=h(m,$.value,x),$!==null&&(f=i($,f,C),b===null?E=$:b.sibling=$,b=$);return Y&&Qt(m,C),E}for(_=n(m,_);!$.done;C++,$=g.next())$=y(_,m,C,$.value,x),$!==null&&(e&&$.alternate!==null&&_.delete($.key===null?C:$.key),f=i($,f,C),b===null?E=$:b.sibling=$,b=$);return e&&_.forEach(function(O){return t(m,O)}),Y&&Qt(m,C),E}function k(m,f,g,x){if(typeof g=="object"&&g!==null&&g.type===_r&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ns:e:{for(var E=g.key,b=f;b!==null;){if(b.key===E){if(E=g.type,E===_r){if(b.tag===7){r(m,b.sibling),f=s(b,g.props.children),f.return=m,m=f;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kt&&ru(E)===b.type){r(m,b.sibling),f=s(b,g.props),f.ref=nn(m,b,g),f.return=m,m=f;break e}r(m,b);break}else t(m,b);b=b.sibling}g.type===_r?(f=nr(g.props.children,m.mode,x,g.key),f.return=m,m=f):(x=Ls(g.type,g.key,g.props,null,m.mode,x),x.ref=nn(m,f,g),x.return=m,m=x)}return o(m);case wr:e:{for(b=g.key;f!==null;){if(f.key===b)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){r(m,f.sibling),f=s(f,g.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else t(m,f);f=f.sibling}f=lo(g,m.mode,x),f.return=m,m=f}return o(m);case kt:return b=g._init,k(m,f,b(g._payload),x)}if(dn(g))return v(m,f,g,x);if(Yr(g))return w(m,f,g,x);ps(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,g),f.return=m,m=f):(r(m,f),f=ao(g,m.mode,x),f.return=m,m=f),o(m)):r(m,f)}return k}var Fr=pd(!0),md=pd(!1),Ys=Vt(null),Zs=null,br=null,Va=null;function Ha(){Va=br=Zs=null}function Wa(e){var t=Ys.current;G(Ys),e._currentValue=t}function Jo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rr(e,t){Zs=e,Va=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(Va!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(Zs===null)throw Error(S(308));br=e,Zs.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var er=null;function Ka(e){er===null?er=[e]:er.push(e)}function gd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ka(t)):(r.next=s.next,s.next=r),t.interleaved=r,mt(e,n)}function mt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var St=!1;function Ja(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,U&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,mt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ka(n)):(t.next=s.next,s.next=t),n.interleaved=t,mt(e,r)}function Ns(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oa(e,r)}}function nu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ei(e,t,r,n){var s=e.updateQueue;St=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var p=a.lane,y=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(p=t,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(y,h,p):v,p==null)break e;h=te({},h,p);break e;case 2:St=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=h):c=c.next=y,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ar|=o,e.lanes=o,e.memoizedState=h}}function su(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var Gn={},st=Vt(Gn),zn=Vt(Gn),Mn=Vt(Gn);function tr(e){if(e===Gn)throw Error(S(174));return e}function qa(e,t){switch(J(Mn,t),J(zn,e),J(st,Gn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:To(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=To(t,e)}G(st),J(st,t)}function Br(){G(st),G(zn),G(Mn)}function vd(e){tr(Mn.current);var t=tr(st.current),r=To(t,e.type);t!==r&&(J(zn,e),J(st,r))}function Qa(e){zn.current===e&&(G(st),G(zn))}var Z=Vt(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function Ga(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var $s=vt.ReactCurrentDispatcher,ro=vt.ReactCurrentBatchConfig,or=0,ee=null,oe=null,ce=null,ri=!1,_n=!1,Un=0,Xp=0;function me(){throw Error(S(321))}function Xa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ye(e[r],t[r]))return!1;return!0}function Ya(e,t,r,n,s,i){if(or=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?tm:rm,e=r(n,s),_n){i=0;do{if(_n=!1,Un=0,25<=i)throw Error(S(301));i+=1,ce=oe=null,t.updateQueue=null,$s.current=nm,e=r(n,s)}while(_n)}if($s.current=ni,t=oe!==null&&oe.next!==null,or=0,ce=oe=ee=null,ri=!1,t)throw Error(S(300));return e}function Za(){var e=Un!==0;return Un=0,e}function tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?ee.memoizedState=ce=e:ce=ce.next=e,ce}function He(){if(oe===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ce===null?ee.memoizedState:ce.next;if(t!==null)ce=t,oe=e;else{if(e===null)throw Error(S(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ce===null?ee.memoizedState=ce=e:ce=ce.next=e}return ce}function Fn(e,t){return typeof t=="function"?t(e):t}function no(e){var t=He(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((or&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,ee.lanes|=c,ar|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,Ye(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ee.lanes|=i,ar|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function so(e){var t=He(),r=t.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ye(i,t.memoizedState)||(Te=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function wd(){}function _d(e,t){var r=ee,n=He(),s=t(),i=!Ye(n.memoizedState,s);if(i&&(n.memoizedState=s,Te=!0),n=n.queue,el(Sd.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ce!==null&&ce.memoizedState.tag&1){if(r.flags|=2048,Bn(9,kd.bind(null,r,n,s,t),void 0,null),de===null)throw Error(S(349));or&30||xd(r,t,s)}return s}function xd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kd(e,t,r,n){t.value=r,t.getSnapshot=n,Ed(t)&&jd(e)}function Sd(e,t,r){return r(function(){Ed(t)&&jd(e)})}function Ed(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ye(e,r)}catch{return!0}}function jd(e){var t=mt(e,1);t!==null&&Xe(t,e,1,-1)}function iu(e){var t=tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:e},t.queue=e,e=e.dispatch=em.bind(null,ee,e),[t.memoizedState,e]}function Bn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cd(){return He().memoizedState}function Os(e,t,r,n){var s=tt();ee.flags|=e,s.memoizedState=Bn(1|t,r,void 0,n===void 0?null:n)}function vi(e,t,r,n){var s=He();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&Xa(n,o.deps)){s.memoizedState=Bn(t,r,i,n);return}}ee.flags|=e,s.memoizedState=Bn(1|t,r,i,n)}function ou(e,t){return Os(8390656,8,e,t)}function el(e,t){return vi(2048,8,e,t)}function Td(e,t){return vi(4,2,e,t)}function bd(e,t){return vi(4,4,e,t)}function Pd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nd(e,t,r){return r=r!=null?r.concat([e]):null,vi(4,4,Pd.bind(null,t,e),r)}function tl(){}function $d(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Od(e,t){var r=He();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Xa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ad(e,t,r){return or&21?(Ye(r,t)||(r=zc(),ee.lanes|=r,ar|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=r)}function Yp(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=ro.transition;ro.transition={};try{e(!1),t()}finally{V=r,ro.transition=n}}function Id(){return He().memoizedState}function Zp(e,t,r){var n=zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rd(e))Ld(t,r);else if(r=gd(e,t,r,n),r!==null){var s=xe();Xe(r,e,n,s),Dd(r,t,n)}}function em(e,t,r){var n=zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Ld(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ye(a,o)){var l=t.interleaved;l===null?(s.next=s,Ka(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=gd(e,t,s,n),r!==null&&(s=xe(),Xe(r,e,n,s),Dd(r,t,n))}}function Rd(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Ld(e,t){_n=ri=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Oa(e,r)}}var ni={readContext:Ve,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},tm={readContext:Ve,useCallback:function(e,t){return tt().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:ou,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Os(4194308,4,Pd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var r=tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Zp.bind(null,ee,e),[n.memoizedState,e]},useRef:function(e){var t=tt();return e={current:e},t.memoizedState=e},useState:iu,useDebugValue:tl,useDeferredValue:function(e){return tt().memoizedState=e},useTransition:function(){var e=iu(!1),t=e[0];return e=Yp.bind(null,e[1]),tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ee,s=tt();if(Y){if(r===void 0)throw Error(S(407));r=r()}else{if(r=t(),de===null)throw Error(S(349));or&30||xd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ou(Sd.bind(null,n,i,e),[e]),n.flags|=2048,Bn(9,kd.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=tt(),t=de.identifierPrefix;if(Y){var r=dt,n=ct;r=(n&~(1<<32-Ge(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Un++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Xp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rm={readContext:Ve,useCallback:$d,useContext:Ve,useEffect:el,useImperativeHandle:Nd,useInsertionEffect:Td,useLayoutEffect:bd,useMemo:Od,useReducer:no,useRef:Cd,useState:function(){return no(Fn)},useDebugValue:tl,useDeferredValue:function(e){var t=He();return Ad(t,oe.memoizedState,e)},useTransition:function(){var e=no(Fn)[0],t=He().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:_d,useId:Id,unstable_isNewReconciler:!1},nm={readContext:Ve,useCallback:$d,useContext:Ve,useEffect:el,useImperativeHandle:Nd,useInsertionEffect:Td,useLayoutEffect:bd,useMemo:Od,useReducer:so,useRef:Cd,useState:function(){return so(Fn)},useDebugValue:tl,useDeferredValue:function(e){var t=He();return oe===null?t.memoizedState=e:Ad(t,oe.memoizedState,e)},useTransition:function(){var e=so(Fn)[0],t=He().memoizedState;return[e,t]},useMutableSource:wd,useSyncExternalStore:_d,useId:Id,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function qo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wi={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xe(),s=zt(e),i=ht(n,s);i.payload=t,r!=null&&(i.callback=r),t=Lt(e,i,s),t!==null&&(Xe(t,e,s,n),Ns(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xe(),s=zt(e),i=ht(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Lt(e,i,s),t!==null&&(Xe(t,e,s,n),Ns(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xe(),n=zt(e),s=ht(r,n);s.tag=2,t!=null&&(s.callback=t),t=Lt(e,s,n),t!==null&&(Xe(t,e,n,r),Ns(t,e,n))}};function au(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!In(r,n)||!In(s,i):!0}function zd(e,t,r){var n=!1,s=Ft,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Pe(t)?sr:ve.current,n=t.contextTypes,i=(n=n!=null)?Mr(e,s):Ft),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wi.enqueueReplaceState(t,t.state,null)}function Qo(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ja(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Pe(t)?sr:ve.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(qo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wi.enqueueReplaceState(s,s.state,null),ei(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vr(e,t){try{var r="",n=t;do r+=$f(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function io(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Go(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sm=typeof WeakMap=="function"?WeakMap:Map;function Md(e,t,r){r=ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ii||(ii=!0,oa=n),Go(e,t)},r}function Ud(e,t,r){r=ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Go(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Go(e,t),typeof n!="function"&&(Dt===null?Dt=new Set([this]):Dt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function uu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vm.bind(null,e,t,r),t.then(e,e))}function cu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function du(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ht(-1,1),t.tag=2,Lt(r,t,1))),r.lanes|=1),e)}var im=vt.ReactCurrentOwner,Te=!1;function _e(e,t,r,n){t.child=e===null?md(t,null,r,n):Fr(t,e.child,r,n)}function hu(e,t,r,n,s){r=r.render;var i=t.ref;return Rr(t,s),n=Ya(e,t,r,n,i,s),r=Za(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gt(e,t,s)):(Y&&r&&Ua(t),t.flags|=1,_e(e,t,n,s),t.child)}function fu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ul(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Fd(e,t,i,n,s)):(e=Ls(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:In,r(o,n)&&e.ref===t.ref)return gt(e,t,s)}return t.flags|=1,e=Mt(i,n),e.ref=t.ref,e.return=t,t.child=e}function Fd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(In(i,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,gt(e,t,s)}return Xo(e,t,r,n,s)}function Bd(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Nr,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Nr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(Nr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,J(Nr,Oe),Oe|=n;return _e(e,t,s,r),t.child}function Vd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xo(e,t,r,n,s){var i=Pe(r)?sr:ve.current;return i=Mr(t,i),Rr(t,s),r=Ya(e,t,r,n,i,s),n=Za(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gt(e,t,s)):(Y&&n&&Ua(t),t.flags|=1,_e(e,t,r,s),t.child)}function pu(e,t,r,n,s){if(Pe(r)){var i=!0;Qs(t)}else i=!1;if(Rr(t,s),t.stateNode===null)As(e,t),zd(t,r,n),Qo(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Pe(r)?sr:ve.current,u=Mr(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&lu(t,o,n,u),St=!1;var p=t.memoizedState;o.state=p,ei(t,n,o,s),l=t.memoizedState,a!==n||p!==l||be.current||St?(typeof c=="function"&&(qo(t,r,c,n),l=t.memoizedState),(a=St||au(t,r,a,n,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,yd(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ke(t.type,a),o.props=u,h=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ve(l):(l=Pe(r)?sr:ve.current,l=Mr(t,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&lu(t,o,n,l),St=!1,p=t.memoizedState,o.state=p,ei(t,n,o,s);var v=t.memoizedState;a!==h||p!==v||be.current||St?(typeof y=="function"&&(qo(t,r,y,n),v=t.memoizedState),(u=St||au(t,r,u,n,p,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Yo(e,t,r,n,i,s)}function Yo(e,t,r,n,s,i){Vd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Zl(t,r,!1),gt(e,t,i);n=t.stateNode,im.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fr(t,e.child,null,i),t.child=Fr(t,null,a,i)):_e(e,t,a,i),t.memoizedState=n.state,s&&Zl(t,r,!0),t.child}function Hd(e){var t=e.stateNode;t.pendingContext?Yl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yl(e,t.context,!1),qa(e,t.containerInfo)}function mu(e,t,r,n,s){return Ur(),Ba(s),t.flags|=256,_e(e,t,r,n),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0};function ea(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,r){var n=t.pendingProps,s=Z.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),J(Z,s&1),e===null)return Ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ki(o,n,0,null),e=nr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ea(r),t.memoizedState=Zo,e):rl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return om(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Mt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Mt(a,i):(i=nr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ea(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Zo,n}return i=e.child,e=i.sibling,n=Mt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rl(e,t){return t=ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ms(e,t,r,n){return n!==null&&Ba(n),Fr(t,e.child,null,r),e=rl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function om(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=io(Error(S(422))),ms(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ki({mode:"visible",children:n.children},s,0,null),i=nr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fr(t,e.child,null,o),t.child.memoizedState=ea(o),t.memoizedState=Zo,i);if(!(t.mode&1))return ms(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(S(419)),n=io(i,n,void 0),ms(e,t,o,n)}if(a=(o&e.childLanes)!==0,Te||a){if(n=de,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,mt(e,s),Xe(n,e,s,-1))}return ll(),n=io(Error(S(421))),ms(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ae=Rt(s.nextSibling),Ie=t,Y=!0,Qe=null,e!==null&&(ze[Me++]=ct,ze[Me++]=dt,ze[Me++]=ir,ct=e.id,dt=e.overflow,ir=t),t=rl(t,n.children),t.flags|=4096,t)}function gu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jo(e.return,t,r)}function oo(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Kd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=Z.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gu(e,r,t);else if(e.tag===19)gu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(J(Z,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),oo(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}oo(t,!0,r,null,i);break;case"together":oo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function As(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,r=Mt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Mt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function am(e,t,r){switch(t.tag){case 3:Hd(t),Ur();break;case 5:vd(t);break;case 1:Pe(t.type)&&Qs(t);break;case 4:qa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;J(Ys,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(J(Z,Z.current&1),t.flags|=128,null):r&t.child.childLanes?Wd(e,t,r):(J(Z,Z.current&1),e=gt(e,t,r),e!==null?e.sibling:null);J(Z,Z.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(Z,Z.current),n)break;return null;case 22:case 23:return t.lanes=0,Bd(e,t,r)}return gt(e,t,r)}var Jd,ta,qd,Qd;Jd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ta=function(){};qd=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,tr(st.current);var i=null;switch(r){case"input":s=So(e,s),n=So(e,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=Co(e,s),n=Co(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Js)}bo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Qd=function(e,t,r,n){r!==n&&(t.flags|=4)};function sn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lm(e,t,r){var n=t.pendingProps;switch(Fa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&qs(),ge(t),null;case 3:return n=t.stateNode,Br(),G(be),G(ve),Ga(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(ua(Qe),Qe=null))),ta(e,t),ge(t),null;case 5:Qa(t);var s=tr(Mn.current);if(r=t.type,e!==null&&t.stateNode!=null)qd(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(S(166));return ge(t),null}if(e=tr(st.current),fs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rt]=t,n[Dn]=i,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<fn.length;s++)Q(fn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":jl(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":Tl(n,i),Q("invalid",n)}bo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&hs(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hs(n.textContent,a,e),s=["children",""+a]):Tn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":ss(n),Cl(n,i,!0);break;case"textarea":ss(n),bl(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Js)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[rt]=t,e[Dn]=n,Jd(e,t,!1,!1),t.stateNode=e;e:{switch(o=Po(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<fn.length;s++)Q(fn[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":jl(e,n),s=So(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),Q("invalid",e);break;case"textarea":Tl(e,n),s=Co(e,n),Q("invalid",e);break;default:s=n}bo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Cc(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ec(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&bn(e,l):typeof l=="number"&&bn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",e):l!=null&&Ca(e,i,l,o))}switch(r){case"input":ss(e),Cl(e,n,!1);break;case"textarea":ss(e),bl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ut(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?$r(e,!!n.multiple,i,!1):n.defaultValue!=null&&$r(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Js)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Qd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(S(166));if(r=tr(Mn.current),tr(st.current),fs(t)){if(n=t.stateNode,r=t.memoizedProps,n[rt]=t,(i=n.nodeValue!==r)&&(e=Ie,e!==null))switch(e.tag){case 3:hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rt]=t,t.stateNode=n}return ge(t),null;case 13:if(G(Z),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Ae!==null&&t.mode&1&&!(t.flags&128))fd(),Ur(),t.flags|=98560,i=!1;else if(i=fs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(S(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[rt]=t}else Ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Qe!==null&&(ua(Qe),Qe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Z.current&1?ae===0&&(ae=3):ll())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Br(),ta(e,t),e===null&&Rn(t.stateNode.containerInfo),ge(t),null;case 10:return Wa(t.type._context),ge(t),null;case 17:return Pe(t.type)&&qs(),ge(t),null;case 19:if(G(Z),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)sn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ti(e),o!==null){for(t.flags|=128,sn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return J(Z,Z.current&1|2),t.child}e=e.sibling}i.tail!==null&&se()>Hr&&(t.flags|=128,n=!0,sn(i,!1),t.lanes=4194304)}else{if(!n)if(e=ti(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Y)return ge(t),null}else 2*se()-i.renderingStartTime>Hr&&r!==1073741824&&(t.flags|=128,n=!0,sn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=se(),t.sibling=null,r=Z.current,J(Z,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return al(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function um(e,t){switch(Fa(t),t.tag){case 1:return Pe(t.type)&&qs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Br(),G(be),G(ve),Ga(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qa(t),null;case 13:if(G(Z),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return G(Z),null;case 4:return Br(),null;case 10:return Wa(t.type._context),null;case 22:case 23:return al(),null;case 24:return null;default:return null}}var gs=!1,ye=!1,cm=typeof WeakSet=="function"?WeakSet:Set,T=null;function Pr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(e,t,n)}else r.current=null}function ra(e,t,r){try{r()}catch(n){re(e,t,n)}}var yu=!1;function dm(e,t){if(Mo=Hs,e=ed(),Ma(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===r&&++u===s&&(a=o),p===i&&++c===n&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uo={focusedElem:e,selectionRange:r},Hs=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,k=v.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ke(t.type,w),k);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(x){re(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return v=yu,yu=!1,v}function xn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ra(t,r,i)}s=s.next}while(s!==n)}}function _i(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function na(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Gd(e){var t=e.alternate;t!==null&&(e.alternate=null,Gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[Dn],delete t[Vo],delete t[Jp],delete t[qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sa(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Js));else if(n!==4&&(e=e.child,e!==null))for(sa(e,t,r),e=e.sibling;e!==null;)sa(e,t,r),e=e.sibling}function ia(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ia(e,t,r),e=e.sibling;e!==null;)ia(e,t,r),e=e.sibling}var he=null,Je=!1;function wt(e,t,r){for(r=r.child;r!==null;)Yd(e,t,r),r=r.sibling}function Yd(e,t,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(hi,r)}catch{}switch(r.tag){case 5:ye||Pr(r,t);case 6:var n=he,s=Je;he=null,wt(e,t,r),he=n,Je=s,he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?Zi(e.parentNode,r):e.nodeType===1&&Zi(e,r),On(e)):Zi(he,r.stateNode));break;case 4:n=he,s=Je,he=r.stateNode.containerInfo,Je=!0,wt(e,t,r),he=n,Je=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ra(r,t,o),s=s.next}while(s!==n)}wt(e,t,r);break;case 1:if(!ye&&(Pr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,t,a)}wt(e,t,r);break;case 21:wt(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,wt(e,t,r),ye=n):wt(e,t,r);break;default:wt(e,t,r)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cm),t.forEach(function(n){var s=_m.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Je=!1;break e;case 3:he=a.stateNode.containerInfo,Je=!0;break e;case 4:he=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(he===null)throw Error(S(160));Yd(i,o,s),he=null,Je=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}function Zd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),Ze(e),n&4){try{xn(3,e,e.return),_i(3,e)}catch(w){re(e,e.return,w)}try{xn(5,e,e.return)}catch(w){re(e,e.return,w)}}break;case 1:We(t,e),Ze(e),n&512&&r!==null&&Pr(r,r.return);break;case 5:if(We(t,e),Ze(e),n&512&&r!==null&&Pr(r,r.return),e.flags&32){var s=e.stateNode;try{bn(s,"")}catch(w){re(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xc(s,i),Po(a,o);var u=Po(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Cc(s,h):c==="dangerouslySetInnerHTML"?Ec(s,h):c==="children"?bn(s,h):Ca(s,c,h,u)}switch(a){case"input":Eo(s,i);break;case"textarea":kc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?$r(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?$r(s,!!i.multiple,i.defaultValue,!0):$r(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dn]=i}catch(w){re(e,e.return,w)}}break;case 6:if(We(t,e),Ze(e),n&4){if(e.stateNode===null)throw Error(S(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){re(e,e.return,w)}}break;case 3:if(We(t,e),Ze(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{On(t.containerInfo)}catch(w){re(e,e.return,w)}break;case 4:We(t,e),Ze(e);break;case 13:We(t,e),Ze(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(il=se())),n&4&&wu(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||c,We(t,e),ye=u):We(t,e),Ze(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(T=e,c=e.child;c!==null;){for(h=T=c;T!==null;){switch(p=T,y=p.child,p.tag){case 0:case 11:case 14:case 15:xn(4,p,p.return);break;case 1:Pr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:Pr(p,p.return);break;case 22:if(p.memoizedState!==null){xu(h);continue}}y!==null?(y.return=p,T=y):xu(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jc("display",o))}catch(w){re(e,e.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){re(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(t,e),Ze(e),n&4&&wu(e);break;case 21:break;default:We(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xd(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(bn(s,""),n.flags&=-33);var i=vu(e);ia(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=vu(e);sa(e,a,o);break;default:throw Error(S(161))}}catch(l){re(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,r){T=e,eh(e)}function eh(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||gs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=gs;var u=ye;if(gs=o,(ye=l)&&!u)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?ku(s):l!==null?(l.return=o,T=l):ku(s);for(;i!==null;)T=i,eh(i),i=i.sibling;T=s,gs=a,ye=u}_u(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):_u(e)}}function _u(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||_i(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&su(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}su(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&On(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}ye||t.flags&512&&na(t)}catch(p){re(t,t.return,p)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function xu(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function ku(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_i(4,t)}catch(l){re(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){re(t,s,l)}}var i=t.return;try{na(t)}catch(l){re(t,i,l)}break;case 5:var o=t.return;try{na(t)}catch(l){re(t,o,l)}}}catch(l){re(t,t.return,l)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var fm=Math.ceil,si=vt.ReactCurrentDispatcher,nl=vt.ReactCurrentOwner,Fe=vt.ReactCurrentBatchConfig,U=0,de=null,ie=null,fe=0,Oe=0,Nr=Vt(0),ae=0,Vn=null,ar=0,xi=0,sl=0,kn=null,je=null,il=0,Hr=1/0,at=null,ii=!1,oa=null,Dt=null,ys=!1,$t=null,oi=0,Sn=0,aa=null,Is=-1,Rs=0;function xe(){return U&6?se():Is!==-1?Is:Is=se()}function zt(e){return e.mode&1?U&2&&fe!==0?fe&-fe:Gp.transition!==null?(Rs===0&&(Rs=zc()),Rs):(e=V,e!==0||(e=window.event,e=e===void 0?16:Wc(e.type)),e):1}function Xe(e,t,r,n){if(50<Sn)throw Sn=0,aa=null,Error(S(185));Jn(e,r,n),(!(U&2)||e!==de)&&(e===de&&(!(U&2)&&(xi|=r),ae===4&&Ct(e,fe)),Ne(e,n),r===1&&U===0&&!(t.mode&1)&&(Hr=se()+500,yi&&Ht()))}function Ne(e,t){var r=e.callbackNode;Gf(e,t);var n=Vs(e,e===de?fe:0);if(n===0)r!==null&&$l(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$l(r),t===1)e.tag===0?Qp(Su.bind(null,e)):cd(Su.bind(null,e)),Wp(function(){!(U&6)&&Ht()}),r=null;else{switch(Mc(n)){case 1:r=$a;break;case 4:r=Lc;break;case 16:r=Bs;break;case 536870912:r=Dc;break;default:r=Bs}r=lh(r,th.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function th(e,t){if(Is=-1,Rs=0,U&6)throw Error(S(327));var r=e.callbackNode;if(Lr()&&e.callbackNode!==r)return null;var n=Vs(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ai(e,n);else{t=n;var s=U;U|=2;var i=nh();(de!==e||fe!==t)&&(at=null,Hr=se()+500,rr(e,t));do try{gm();break}catch(a){rh(e,a)}while(!0);Ha(),si.current=i,U=s,ie!==null?t=0:(de=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=Io(e),s!==0&&(n=s,t=la(e,s))),t===1)throw r=Vn,rr(e,0),Ct(e,n),Ne(e,se()),r;if(t===6)Ct(e,n);else{if(s=e.current.alternate,!(n&30)&&!pm(s)&&(t=ai(e,n),t===2&&(i=Io(e),i!==0&&(n=i,t=la(e,i))),t===1))throw r=Vn,rr(e,0),Ct(e,n),Ne(e,se()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(S(345));case 2:Gt(e,je,at);break;case 3:if(Ct(e,n),(n&130023424)===n&&(t=il+500-se(),10<t)){if(Vs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Bo(Gt.bind(null,e,je,at),t);break}Gt(e,je,at);break;case 4:if(Ct(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ge(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fm(n/1960))-n,10<n){e.timeoutHandle=Bo(Gt.bind(null,e,je,at),n);break}Gt(e,je,at);break;case 5:Gt(e,je,at);break;default:throw Error(S(329))}}}return Ne(e,se()),e.callbackNode===r?th.bind(null,e):null}function la(e,t){var r=kn;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=ai(e,t),e!==2&&(t=je,je=r,t!==null&&ua(t)),e}function ua(e){je===null?je=e:je.push.apply(je,e)}function pm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ct(e,t){for(t&=~sl,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ge(t),n=1<<r;e[r]=-1,t&=~n}}function Su(e){if(U&6)throw Error(S(327));Lr();var t=Vs(e,0);if(!(t&1))return Ne(e,se()),null;var r=ai(e,t);if(e.tag!==0&&r===2){var n=Io(e);n!==0&&(t=n,r=la(e,n))}if(r===1)throw r=Vn,rr(e,0),Ct(e,t),Ne(e,se()),r;if(r===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gt(e,je,at),Ne(e,se()),null}function ol(e,t){var r=U;U|=1;try{return e(t)}finally{U=r,U===0&&(Hr=se()+500,yi&&Ht())}}function lr(e){$t!==null&&$t.tag===0&&!(U&6)&&Lr();var t=U;U|=1;var r=Fe.transition,n=V;try{if(Fe.transition=null,V=1,e)return e()}finally{V=n,Fe.transition=r,U=t,!(U&6)&&Ht()}}function al(){Oe=Nr.current,G(Nr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hp(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(Fa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qs();break;case 3:Br(),G(be),G(ve),Ga();break;case 5:Qa(n);break;case 4:Br();break;case 13:G(Z);break;case 19:G(Z);break;case 10:Wa(n.type._context);break;case 22:case 23:al()}r=r.return}if(de=e,ie=e=Mt(e.current,null),fe=Oe=t,ae=0,Vn=null,sl=xi=ar=0,je=kn=null,er!==null){for(t=0;t<er.length;t++)if(r=er[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}er=null}return e}function rh(e,t){do{var r=ie;try{if(Ha(),$s.current=ni,ri){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ri=!1}if(or=0,ce=oe=ee=null,_n=!1,Un=0,nl.current=null,r===null||r.return===null){ae=1,Vn=t,ie=null;break}e:{var i=e,o=r.return,a=r,l=t;if(t=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=cu(o);if(y!==null){y.flags&=-257,du(y,o,a,i,t),y.mode&1&&uu(i,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){uu(i,u,t),ll();break e}l=Error(S(426))}}else if(Y&&a.mode&1){var k=cu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),du(k,o,a,i,t),Ba(Vr(l,a));break e}}i=l=Vr(l,a),ae!==4&&(ae=2),kn===null?kn=[i]:kn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Md(i,l,t);nu(i,m);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Dt===null||!Dt.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Ud(i,a,t);nu(i,x);break e}}i=i.return}while(i!==null)}ih(r)}catch(E){t=E,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function nh(){var e=si.current;return si.current=ni,e===null?ni:e}function ll(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(ar&268435455)&&!(xi&268435455)||Ct(de,fe)}function ai(e,t){var r=U;U|=2;var n=nh();(de!==e||fe!==t)&&(at=null,rr(e,t));do try{mm();break}catch(s){rh(e,s)}while(!0);if(Ha(),U=r,si.current=n,ie!==null)throw Error(S(261));return de=null,fe=0,ae}function mm(){for(;ie!==null;)sh(ie)}function gm(){for(;ie!==null&&!Ff();)sh(ie)}function sh(e){var t=ah(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?ih(e):ie=t,nl.current=null}function ih(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=um(r,t),r!==null){r.flags&=32767,ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ie=null;return}}else if(r=lm(r,t,Oe),r!==null){ie=r;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);ae===0&&(ae=5)}function Gt(e,t,r){var n=V,s=Fe.transition;try{Fe.transition=null,V=1,ym(e,t,r,n)}finally{Fe.transition=s,V=n}return null}function ym(e,t,r,n){do Lr();while($t!==null);if(U&6)throw Error(S(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Xf(e,i),e===de&&(ie=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ys||(ys=!0,lh(Bs,function(){return Lr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=V;V=1;var a=U;U|=4,nl.current=null,dm(e,r),Zd(r,e),Dp(Uo),Hs=!!Mo,Uo=Mo=null,e.current=r,hm(r),Bf(),U=a,V=o,Fe.transition=i}else e.current=r;if(ys&&(ys=!1,$t=e,oi=s),i=e.pendingLanes,i===0&&(Dt=null),Wf(r.stateNode),Ne(e,se()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ii)throw ii=!1,e=oa,oa=null,e;return oi&1&&e.tag!==0&&Lr(),i=e.pendingLanes,i&1?e===aa?Sn++:(Sn=0,aa=e):Sn=0,Ht(),null}function Lr(){if($t!==null){var e=Mc(oi),t=Fe.transition,r=V;try{if(Fe.transition=null,V=16>e?16:e,$t===null)var n=!1;else{if(e=$t,$t=null,oi=0,U&6)throw Error(S(331));var s=U;for(U|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(T=u;T!==null;){var c=T;switch(c.tag){case 0:case 11:case 15:xn(8,c,i)}var h=c.child;if(h!==null)h.return=c,T=h;else for(;T!==null;){c=T;var p=c.sibling,y=c.return;if(Gd(c),c===u){T=null;break}if(p!==null){p.return=y,T=p;break}T=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,T=m;break e}T=i.return}}var f=e.current;for(T=f;T!==null;){o=T;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,T=g;else e:for(o=f;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_i(9,a)}}catch(E){re(a,a.return,E)}if(a===o){T=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,T=x;break e}T=a.return}}if(U=s,Ht(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(hi,e)}catch{}n=!0}return n}finally{V=r,Fe.transition=t}}return!1}function Eu(e,t,r){t=Vr(r,t),t=Md(e,t,1),e=Lt(e,t,1),t=xe(),e!==null&&(Jn(e,1,t),Ne(e,t))}function re(e,t,r){if(e.tag===3)Eu(e,e,r);else for(;t!==null;){if(t.tag===3){Eu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dt===null||!Dt.has(n))){e=Vr(r,e),e=Ud(t,e,1),t=Lt(t,e,1),e=xe(),t!==null&&(Jn(t,1,e),Ne(t,e));break}}t=t.return}}function vm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>se()-il?rr(e,0):sl|=r),Ne(e,t)}function oh(e,t){t===0&&(e.mode&1?(t=as,as<<=1,!(as&130023424)&&(as=4194304)):t=1);var r=xe();e=mt(e,t),e!==null&&(Jn(e,t,r),Ne(e,r))}function wm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),oh(e,r)}function _m(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(t),oh(e,r)}var ah;ah=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)Te=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Te=!1,am(e,t,r);Te=!!(e.flags&131072)}else Te=!1,Y&&t.flags&1048576&&dd(t,Xs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;As(e,t),e=t.pendingProps;var s=Mr(t,ve.current);Rr(t,r),s=Ya(null,t,n,e,s,r);var i=Za();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,Qs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ja(t),s.updater=wi,t.stateNode=s,s._reactInternals=t,Qo(t,n,e,r),t=Yo(null,t,n,!0,i,r)):(t.tag=0,Y&&i&&Ua(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(As(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=km(n),e=Ke(n,e),s){case 0:t=Xo(null,t,n,e,r);break e;case 1:t=pu(null,t,n,e,r);break e;case 11:t=hu(null,t,n,e,r);break e;case 14:t=fu(null,t,n,Ke(n.type,e),r);break e}throw Error(S(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Xo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),pu(e,t,n,s,r);case 3:e:{if(Hd(t),e===null)throw Error(S(387));n=t.pendingProps,i=t.memoizedState,s=i.element,yd(e,t),ei(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vr(Error(S(423)),t),t=mu(e,t,n,r,s);break e}else if(n!==s){s=Vr(Error(S(424)),t),t=mu(e,t,n,r,s);break e}else for(Ae=Rt(t.stateNode.containerInfo.firstChild),Ie=t,Y=!0,Qe=null,r=md(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),n===s){t=gt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return vd(t),e===null&&Ko(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fo(n,s)?o=null:i!==null&&Fo(n,i)&&(t.flags|=32),Vd(e,t),_e(e,t,o,r),t.child;case 6:return e===null&&Ko(t),null;case 13:return Wd(e,t,r);case 4:return qa(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fr(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),hu(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,J(Ys,n._currentValue),n._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!be.current){t=gt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=ht(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Jo(i.return,r,t),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Jo(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Rr(t,r),s=Ve(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),fu(e,t,n,s,r);case 15:return Fd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),As(e,t),t.tag=1,Pe(n)?(e=!0,Qs(t)):e=!1,Rr(t,r),zd(t,n,s),Qo(t,n,s,r),Yo(null,t,n,!0,e,r);case 19:return Kd(e,t,r);case 22:return Bd(e,t,r)}throw Error(S(156,t.tag))};function lh(e,t){return Rc(e,t)}function xm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(e,t,r,n){return new xm(e,t,r,n)}function ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function km(e){if(typeof e=="function")return ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ba)return 11;if(e===Pa)return 14}return 2}function Mt(e,t){var r=e.alternate;return r===null?(r=Ue(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ls(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ul(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _r:return nr(r.children,s,i,t);case Ta:o=8,s|=8;break;case wo:return e=Ue(12,r,t,s|2),e.elementType=wo,e.lanes=i,e;case _o:return e=Ue(13,r,t,s),e.elementType=_o,e.lanes=i,e;case xo:return e=Ue(19,r,t,s),e.elementType=xo,e.lanes=i,e;case vc:return ki(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gc:o=10;break e;case yc:o=9;break e;case ba:o=11;break e;case Pa:o=14;break e;case kt:o=16,n=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=Ue(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function nr(e,t,r,n){return e=Ue(7,e,n,t),e.lanes=r,e}function ki(e,t,r,n){return e=Ue(22,e,n,t),e.elementType=vc,e.lanes=r,e.stateNode={isHidden:!1},e}function ao(e,t,r){return e=Ue(6,e,null,t),e.lanes=r,e}function lo(e,t,r){return t=Ue(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bi(0),this.expirationTimes=Bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cl(e,t,r,n,s,i,o,a,l){return e=new Sm(e,t,r,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ue(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ja(i),e}function Em(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uh(e){if(!e)return Ft;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var r=e.type;if(Pe(r))return ud(e,r,t)}return t}function ch(e,t,r,n,s,i,o,a,l){return e=cl(r,n,!0,e,s,i,o,a,l),e.context=uh(null),r=e.current,n=xe(),s=zt(r),i=ht(n,s),i.callback=t??null,Lt(r,i,s),e.current.lanes=s,Jn(e,s,n),Ne(e,n),e}function Si(e,t,r,n){var s=t.current,i=xe(),o=zt(s);return r=uh(r),t.context===null?t.context=r:t.pendingContext=r,t=ht(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lt(s,t,o),e!==null&&(Xe(e,s,o,i),Ns(e,s,o)),o}function li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dl(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function jm(){return null}var dh=typeof reportError=="function"?reportError:function(e){console.error(e)};function hl(e){this._internalRoot=e}Ei.prototype.render=hl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));Si(e,t,null,null)};Ei.prototype.unmount=hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){Si(null,e,null,null)}),t[pt]=null}};function Ei(e){this._internalRoot=e}Ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&t!==0&&t<jt[r].priority;r++);jt.splice(r,0,e),r===0&&Hc(e)}};function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function Cm(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=li(o);i.call(u)}}var o=ch(t,n,e,0,null,!1,!1,"",Cu);return e._reactRootContainer=o,e[pt]=o.current,Rn(e.nodeType===8?e.parentNode:e),lr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=li(l);a.call(u)}}var l=cl(e,0,!1,null,null,!1,!1,"",Cu);return e._reactRootContainer=l,e[pt]=l.current,Rn(e.nodeType===8?e.parentNode:e),lr(function(){Si(t,l,r,n)}),l}function Ci(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=li(o);a.call(l)}}Si(t,o,e,s)}else o=Cm(r,t,e,s,n);return li(o)}Uc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=hn(t.pendingLanes);r!==0&&(Oa(t,r|1),Ne(t,se()),!(U&6)&&(Hr=se()+500,Ht()))}break;case 13:lr(function(){var n=mt(e,1);if(n!==null){var s=xe();Xe(n,e,1,s)}}),dl(e,1)}};Aa=function(e){if(e.tag===13){var t=mt(e,134217728);if(t!==null){var r=xe();Xe(t,e,134217728,r)}dl(e,134217728)}};Fc=function(e){if(e.tag===13){var t=zt(e),r=mt(e,t);if(r!==null){var n=xe();Xe(r,e,t,n)}dl(e,t)}};Bc=function(){return V};Vc=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};$o=function(e,t,r){switch(t){case"input":if(Eo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=gi(n);if(!s)throw Error(S(90));_c(n),Eo(n,s)}}}break;case"textarea":kc(e,r);break;case"select":t=r.value,t!=null&&$r(e,!!r.multiple,t,!1)}};Pc=ol;Nc=lr;var Tm={usingClientEntryPoint:!1,Events:[Qn,Er,gi,Tc,bc,ol]},on={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bm={bundleType:on.bundleType,version:on.version,rendererPackageName:on.rendererPackageName,rendererConfig:on.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:on.findFiberByHostInstance||jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{hi=vs.inject(bm),nt=vs}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tm;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fl(t))throw Error(S(200));return Em(e,t,null,r)};Le.createRoot=function(e,t){if(!fl(e))throw Error(S(299));var r=!1,n="",s=dh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=cl(e,1,!1,null,null,r,!1,n,s),e[pt]=t.current,Rn(e.nodeType===8?e.parentNode:e),new hl(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Ac(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return lr(e)};Le.hydrate=function(e,t,r){if(!ji(t))throw Error(S(200));return Ci(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!fl(e))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=dh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ch(t,null,e,1,r??null,s,!1,i,o),e[pt]=t.current,Rn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ei(t)};Le.render=function(e,t,r){if(!ji(t))throw Error(S(200));return Ci(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!ji(e))throw Error(S(40));return e._reactRootContainer?(lr(function(){Ci(null,null,e,!1,function(){e._reactRootContainer=null,e[pt]=null})}),!0):!1};Le.unstable_batchedUpdates=ol;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ji(r))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return Ci(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hh)}catch(e){console.error(e)}}hh(),hc.exports=Le;var Pm=hc.exports,fh,Tu=Pm;fh=Tu.createRoot,Tu.hydrateRoot;function uo({checked:e,onCheckedChange:t}){return d.jsx("button",{role:"switch","aria-checked":e,onClick:()=>t(!e),className:`
        relative inline-flex h-6 w-11 items-center rounded-full
        transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        ${e?"bg-blue-500":"bg-gray-200"}
      `,children:d.jsx("span",{className:`
          inline-block h-4 w-4 transform rounded-full bg-white transition-transform
          ${e?"translate-x-6":"translate-x-1"}
        `})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),H=(e,t)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>P.createElement("svg",{ref:c,...Nm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${$m(e)}`,a].join(" "),...u},[...t.map(([h,p])=>P.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=H("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=H("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=H("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=H("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=H("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=H("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=H("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=H("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=H("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=H("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=H("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=H("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=H("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=H("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=H("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qm="modulepreload",Qm=function(e){return"/"+e},Au={},ur=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Qm(l),l in Au)return;Au[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":qm,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};async function Gm(e){const t=await ur(()=>import("./xlsx-B6sNpj_1.js"),[]),r=e.map(o=>({"Назва файлу":o.name,"Тривалість дзвінка":o.duration?`${Math.floor(o.duration/60)}:${(o.duration%60).toString().padStart(2,"0")}`:"Невідомо","Дата транскрибації":new Date(o.createdAt).toLocaleString("uk-UA"),Транскрибація:o.transcription||"","Аналіз дзвінка":o.analysis?["Проблеми:",...o.analysis.problems.map(a=>`- ${a}`),"","Рішення:",...o.analysis.solutions.map(a=>`- ${a}`),"",`Температура розмови: ${o.analysis.temperature}/10`,"","Короткий зміст:",o.analysis.summary].join(`
`):"Аналіз відсутній"})),n=t.utils.json_to_sheet(r),s=t.utils.book_new();t.utils.book_append_sheet(s,n,"Транскрибації");const i=Object.keys(r[0]).reduce((o,a)=>{const l=Math.max(a.length,...r.map(u=>String(u[a]).length));return o[a]=Math.min(l,100),o},{});n["!cols"]=Object.values(i).map(o=>({width:o})),t.writeFile(s,"transcriptions.xlsx")}const Xm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ur(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class pl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ym extends pl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Zm extends pl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class e0 extends pl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var da;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(da||(da={}));var t0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class r0{constructor(t,{headers:r={},customFetch:n,region:s=da.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Xm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return t0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(v=>{throw new Ym(v)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Zm(c);if(!c.ok)throw new e0(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield c.json():p==="application/octet-stream"?y=yield c.blob():p==="text/event-stream"?y=c:p==="multipart/form-data"?y=yield c.formData():y=yield c.text(),{data:y,error:null}}catch(s){return{data:null,error:s}}})}}var Ce={},ml={},Ti={},Xn={},bi={},Pi={},n0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wr=n0();const s0=Wr.fetch,_h=Wr.fetch.bind(Wr),xh=Wr.Headers,i0=Wr.Request,o0=Wr.Response,Gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:xh,Request:i0,Response:o0,default:_h,fetch:s0},Symbol.toStringTag,{value:"Module"})),a0=tf(Gr);var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});let l0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ni.default=l0;var kh=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pi,"__esModule",{value:!0});const u0=kh(a0),c0=kh(Ni);let d0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=u0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,c=null,h=null,p=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=m:c=JSON.parse(m))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");w&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,y="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(c=[],u=null,p=200,y="OK")}catch{i.status===404&&w===""?(p=204,y="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,p=200,y="OK"),u&&this.shouldThrowOnError)throw new c0.default(u)}return{error:u,data:c,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};Pi.default=d0;var h0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});const f0=h0(Pi);let p0=class extends f0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};bi.default=p0;var m0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xn,"__esModule",{value:!0});const g0=m0(bi);let y0=class extends g0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Xn.default=y0;var v0=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ti,"__esModule",{value:!0});const an=v0(Xn);let w0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new an.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new an.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new an.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new an.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new an.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ti.default=w0;var $i={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.version=void 0;Oi.version="0.0.0-automated";Object.defineProperty($i,"__esModule",{value:!0});$i.DEFAULT_HEADERS=void 0;const _0=Oi;$i.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_0.version}`};var Sh=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const x0=Sh(Ti),k0=Sh(Xn),S0=$i;let E0=class Eh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},S0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new x0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Eh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",l=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new k0.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ml.default=E0;var Xr=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const jh=Xr(ml);Ce.PostgrestClient=jh.default;const Ch=Xr(Ti);Ce.PostgrestQueryBuilder=Ch.default;const Th=Xr(Xn);Ce.PostgrestFilterBuilder=Th.default;const bh=Xr(bi);Ce.PostgrestTransformBuilder=bh.default;const Ph=Xr(Pi);Ce.PostgrestBuilder=Ph.default;const Nh=Xr(Ni);Ce.PostgrestError=Nh.default;var j0=Ce.default={PostgrestClient:jh.default,PostgrestQueryBuilder:Ch.default,PostgrestFilterBuilder:Th.default,PostgrestTransformBuilder:bh.default,PostgrestBuilder:Ph.default,PostgrestError:Nh.default};const{PostgrestClient:C0,PostgrestQueryBuilder:qv,PostgrestFilterBuilder:Qv,PostgrestTransformBuilder:Gv,PostgrestBuilder:Xv,PostgrestError:Yv}=j0,T0="2.11.2",b0={"X-Client-Info":`realtime-js/${T0}`},P0="1.0.0",$h=1e4,N0=1e3;var Dr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dr||(Dr={}));var $e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($e||($e={}));var qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(qe||(qe={}));var ha;(function(e){e.websocket="websocket"})(ha||(ha={}));var Yt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yt||(Yt={}));class $0{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Oh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(K||(K={}));const Iu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=O0(o,e,t,s),i),{})},O0=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Ah(i,o):fa(o)},Ah=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return L0(t,r)}switch(e){case K.bool:return A0(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return I0(t);case K.json:case K.jsonb:return R0(t);case K.timestamp:return D0(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return fa(t);default:return fa(t)}},fa=e=>e,A0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},I0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L0=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ah(t,a))}return e},D0=e=>typeof e=="string"?e.replace(" ","T"):e,Ih=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class co{constructor(t,r,n={},s=$h){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ru;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ru||(Ru={}));class En{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=En.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=En.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=En.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(k=>k.presence_ref),y=h.map(k=>k.presence_ref),v=c.filter(k=>y.indexOf(k.presence_ref)<0),w=h.filter(k=>p.indexOf(k.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(y=>y.presence_ref),p=c.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...p)}n(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lu||(Lu={}));var Du;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Du||(Du={}));var lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class gl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new co(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Oh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new En(this),this.broadcastEndpointURL=Ih(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(lt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(lt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(lt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,v=[];for(let w=0;w<y;w++){const k=p[w],{filter:{event:m,schema:f,table:g,filter:x}}=k,E=c&&c[w];if(E&&E.event===m&&E.schema===f&&E.table===g&&E.filter===x)v.push(Object.assign(Object.assign({},k),{id:E.id}));else{this.unsubscribe(),t==null||t(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(lt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new co(this,qe.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new co(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=qe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,k;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((k=(w=y.filter)===null||w===void 0?void 0:w.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(y=>y.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,k,m,f,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,E=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:w,table:k,commit_timestamp:m,type:f,errors:g}=v;p=Object.assign(Object.assign({},{schema:w,table:k,commit_timestamp:m,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(p,n)})}_isClosed(){return this.state===$e.closed}_isJoined(){return this.state===$e.joined}_isJoining(){return this.state===$e.joining}_isLeaving(){return this.state===$e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gl.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(qe.close,{},t)}_onError(t){this._on(qe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Iu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Iu(t.columns,t.old_record)),r}}const z0=()=>{},M0=typeof WebSocket<"u",U0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F0{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=b0,this.params={},this.timeout=$h,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=z0,this.conn=null,this.sendBuffer=[],this.serializer=new $0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ur(async()=>{const{default:l}=await Promise.resolve().then(()=>Gr);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ha.websocket}`,this.httpEndpoint=Ih(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Oh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(M0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new B0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ur(async()=>{const{default:t}=await import("./browser-CjyMrsXy.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:P0}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return Yt.Connecting;case Dr.open:return Yt.Open;case Dr.closing:return Yt.Closing;default:return Yt.Closed}}isConnected(){return this.connectionState()===Yt.Open}channel(t,r={config:{}}){const n=new gl(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(qe.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(N0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(qe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([U0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class B0{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dr.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class yl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V0 extends yl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pa extends yl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var H0=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Rh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ur(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},W0=()=>H0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ur(()=>Promise.resolve().then(()=>Gr),void 0)).Response:Response}),ma=e=>{if(Array.isArray(e))return e.map(r=>ma(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ma(n)}),t};var hr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),K0=(e,t,r)=>hr(void 0,void 0,void 0,function*(){const n=yield W0();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new V0(ho(s),e.status||500))}).catch(s=>{t(new pa(ho(s),s))}):t(new pa(ho(e),e))}),J0=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Yn(e,t,r,n,s,i){return hr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,J0(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>K0(l,a,n))})})}function ui(e,t,r,n){return hr(this,void 0,void 0,function*(){return Yn(e,"GET",t,r,n)})}function Et(e,t,r,n,s){return hr(this,void 0,void 0,function*(){return Yn(e,"POST",t,n,s,r)})}function q0(e,t,r,n,s){return hr(this,void 0,void 0,function*(){return Yn(e,"PUT",t,n,s,r)})}function Q0(e,t,r,n){return hr(this,void 0,void 0,function*(){return Yn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lh(e,t,r,n,s){return hr(this,void 0,void 0,function*(){return Yn(e,"DELETE",t,n,s,r)})}var Ee=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const G0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class X0{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Rh(s)}uploadOrUpdate(t,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},zu),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:zu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yl("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield Et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(t,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ui(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ui(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ma(n),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}exists(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Q0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ue(n)&&n instanceof pa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},G0),r),{prefix:t||""});return{data:yield Et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Y0="2.7.1",Z0={"X-Client-Info":`storage-js/${Y0}`};var gr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class eg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Z0),r),this.fetch=Rh(n)}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ue(t))return{data:null,error:t};throw t}})}getBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return gr(this,void 0,void 0,function*(){try{return{data:yield q0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Et(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}}class tg extends eg{constructor(t,r={},n){super(t,r,n)}from(t){return new X0(this.url,this.headers,t,this.fetch)}}const rg="2.48.0";let pn="";typeof Deno<"u"?pn="deno":typeof document<"u"?pn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pn="react-native":pn="node";const ng={"X-Client-Info":`supabase-js-${pn}/${rg}`},sg={headers:ng},ig={schema:"public"},og={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ag={};var lg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const ug=e=>{let t;return e?t=e:typeof fetch>"u"?t=_h:t=fetch,(...r)=>t(...r)},cg=()=>typeof Headers>"u"?xh:Headers,dg=(e,t,r)=>{const n=ug(r),s=cg();return(i,o)=>lg(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var hg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function fg(e){return e.replace(/\/$/,"")}function pg(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>hg(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Dh="2.67.3",mg="http://localhost:9999",gg="supabase.auth.token",yg={"X-Client-Info":`gotrue-js/${Dh}`},Mu=10,ga="X-Supabase-Api-Version",zh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function vg(e){return Math.round(Date.now()/1e3)+e}function wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},jn=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function _g(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Mh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ur(async()=>{const{default:n}=await Promise.resolve().then(()=>Gr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},xg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ws=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_s=async(e,t)=>{await e.removeItem(t)};function kg(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),n=o<<2|a>>4,s=(a&15)<<4|l>>2,i=(l&3)<<6|u,r=r+String.fromCharCode(n),l!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Ai{constructor(){this.promise=new Ai.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ai.promiseConstructor=Promise;function Uu(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(kg(n))}async function Sg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Eg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function jg(e){return("0"+e.toString(16)).substr(-2)}function Cg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,jg).join("")}async function Tg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function bg(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Tg(e);return bg(r)}async function yr(e,t,r=!1){const n=Cg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Uh(e,`${t}-code-verifier`,s);const i=await Pg(n);return[i,n===i?"plain":"s256"]}const Ng=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $g(e){const t=e.headers.get(ga);if(!t||!t.match(Ng))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class vl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Og extends vl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ag(e){return I(e)&&e.name==="AuthApiError"}class Fh extends vl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fr extends vl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class _t extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ig(e){return I(e)&&e.name==="AuthSessionMissingError"}class fo extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xs extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ks extends fr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fu extends fr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends fr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function po(e){return I(e)&&e.name==="AuthRetryableFetchError"}class Bu extends fr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var Lg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dg=[502,503,504];async function Vu(e){var t;if(!xg(e))throw new ya(Xt(e),0);if(Dg.includes(e.status))throw new ya(Xt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Fh(Xt(i),i)}let n;const s=$g(e);if(s&&s.getTime()>=zh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bu(Xt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _t}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bu(Xt(r),e.status,r.weak_password.reasons);throw new Og(Xt(r),e.status||500,n)}const zg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ga]||(i[ga]=zh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Mg(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Mg(e,t,r,n,s,i){const o=zg(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new ya(Xt(l),0)}if(a.ok||await Vu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Vu(l)}}function xt(e){var t;let r=null;Vg(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hu(e){const t=xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ug(e){return{data:e,error:null}}function Fg(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Lg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Bg(e){return e}function Vg(e){return e.access_token&&e.refresh_token&&e.expires_in}var Hg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Wg{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Mh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Hg(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Fg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Bg});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(v.split(";")[1].split("=")[1]);u[`${k}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}const Kg={getItem:e=>jn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{jn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{jn()&&globalThis.localStorage.removeItem(e)}};function Wu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Jg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const vr={debug:!!(globalThis&&jn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qg extends Bh{}async function Qg(e,t,r){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new qg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Jg();const Gg={url:mg,storageKey:gg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ln=30*1e3,Ku=3;async function Ju(e,t,r){return await r()}class Hn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Hn.nextInstanceID,Hn.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Gg),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Mh(s.fetch),this.lock=s.lock||Ju,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qg:this.lock=Ju,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:jn()?this.storage=Kg:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_g(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rg(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new Fh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:h,options:p}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await yr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:v},xform:xt})}else if("phone"in t){const{phone:c,password:h,options:p}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:xt})}else throw new xs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hu})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hu})}else throw new xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xt});if(await _s(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await yr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new xs("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yr(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ug})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new _t;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(I(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new xs("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(r){if(I(r))return Ig(r)&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await yr(this.storage,this.storageKey));const{data:u,error:c}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Uu(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _t;const r=Date.now()/1e3;let n=r,s=!0,i=null;const o=Uu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!et())throw new ks("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ks(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ks("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fu("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ks("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const y=p-c;y*1e3<=ln&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=p-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,c);const{data:w,error:k}=await this._getUser(i);if(k)throw k;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ag(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await _s(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=wg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await yr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Eg(async s=>(s>0&&await Sg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&po(i)&&Date.now()+o-n<ln})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ws(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Mu;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Mu}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),po(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return po(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Uh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _s(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ln);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ln);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ln}ms, refresh threshold is ${Ku} ticks`),s<=Ku&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await yr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Hn.nextInstanceID=0;const Xg=Hn;class Yg extends Xg{constructor(t){super(t)}}var Zg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(h){o(h)}}function l(c){try{u(n.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class ey{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=fg(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ig,realtime:ag,auth:Object.assign(Object.assign({},og),{storageKey:l}),global:sg},c=pg(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=dg(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new C0(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new r0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new tg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Zg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yg({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new F0(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ty=(e,t,r)=>new ey(e,t,r),ry="https://uuuvwmfjzjrlexxixyjs.supabase.co",ny="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dXZ3bWZqempybGV4eGl4eWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2MTcyMTYsImV4cCI6MjA1MzE5MzIxNn0.QzHV20PuXeDt00XrgyljnKY0tJibNiJyywaslec2T1A",ne=ty(ry,ny);let un=null;async function bt(){return un||(un=(async()=>{try{const{data:{session:e}}=await ne.auth.getSession();if(!e){const{error:t}=await ne.auth.signInWithPassword({email:"anonymous@example.com",password:"anonymous123"});if(t){const{error:r}=await ne.auth.signUp({email:"anonymous@example.com",password:"anonymous123"});if(r)throw r;await new Promise(s=>setTimeout(s,1e3));const{error:n}=await ne.auth.signInWithPassword({email:"anonymous@example.com",password:"anonymous123"});if(n)throw n}}}catch(e){throw console.error("Authentication failed:",e),un=null,e}})(),un)}async function it(e,t,r){let n=3;for(;n>0;)try{await bt();const{error:s}=await ne.from("transcription_logs").insert([{file_id:e,level:t,message:r,created_at:new Date().toISOString()}]);if(s)throw s;return}catch(s){if(console.error(`Failed to log event (retries left: ${n-1}):`,s),n--,n===0)throw s;await new Promise(i=>setTimeout(i,1e3))}}async function Ss(e,t,r,n){let s=3;for(;s>0;)try{await bt();const i={status:t,progress:r??null,error:n??null,updated_at:new Date().toISOString()};t==="completed"&&(i.processing_time=Date.now());const{error:o}=await ne.from("transcription_files").update(i).eq("id",e);if(o)throw o;return}catch(i){if(console.error(`Failed to update file status (retries left: ${s-1}):`,i),s--,s===0)throw i;await new Promise(o=>setTimeout(o,1e3))}}let sy={data:""},iy=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||sy,oy=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ay=/\/\*[^]*?\*\/|  +/g,qu=/\n+/g,Pt=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Pt(o,i):i+"{"+Pt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Pt(o,t?t.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Pt.p?Pt.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},ot={},Vh=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Vh(e[r]);return t}return e},ly=(e,t,r,n,s)=>{let i=Vh(e),o=ot[i]||(ot[i]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(i));if(!ot[o]){let l=i!==e?e:(u=>{let c,h,p=[{}];for(;c=oy.exec(u.replace(ay,""));)c[4]?p.shift():c[3]?(h=c[3].replace(qu," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][c[1]]=c[2].replace(qu," ").trim();return p[0]})(e);ot[o]=Pt(s?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&ot.g?ot.g:null;return r&&(ot.g=ot[o]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ot[o],t,n,a),o},uy=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Pt(a,""):a===!1?"":a}return n+s+(o??"")},"");function Ii(e){let t=this||{},r=e.call?e(t.p):e;return ly(r.unshift?r.raw?uy(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,iy(t.target),t.g,t.o,t.k)}let Hh,va,wa;Ii.bind({g:1});let yt=Ii.bind({k:1});function cy(e,t,r,n){Pt.p=t,Hh=e,va=r,wa=n}function Wt(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;r.p=Object.assign({theme:va&&va()},a),r.o=/ *go\d+/.test(l),a.className=Ii.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=a.as||e,delete a.as),wa&&u[0]&&wa(a),Hh(u,a)}return s}}var dy=e=>typeof e=="function",ci=(e,t)=>dy(e)?e(t):e,hy=(()=>{let e=0;return()=>(++e).toString()})(),Wh=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),fy=20,Kh=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,fy)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Kh(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ds=[],zs={toasts:[],pausedAt:void 0},pr=e=>{zs=Kh(zs,e),Ds.forEach(t=>{t(zs)})},py={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},my=(e={})=>{let[t,r]=P.useState(zs);P.useEffect(()=>(Ds.push(r),()=>{let s=Ds.indexOf(r);s>-1&&Ds.splice(s,1)}),[t]);let n=t.toasts.map(s=>{var i,o,a;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((i=e[s.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((o=e[s.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||py[s.type],style:{...e.style,...(a=e[s.type])==null?void 0:a.style,...s.style}}});return{...t,toasts:n}},gy=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||hy()}),Zn=e=>(t,r)=>{let n=gy(t,e,r);return pr({type:2,toast:n}),n.id},R=(e,t)=>Zn("blank")(e,t);R.error=Zn("error");R.success=Zn("success");R.loading=Zn("loading");R.custom=Zn("custom");R.dismiss=e=>{pr({type:3,toastId:e})};R.remove=e=>pr({type:4,toastId:e});R.promise=(e,t,r)=>{let n=R.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?ci(t.success,s):void 0;return i?R.success(i,{id:n,...r,...r==null?void 0:r.success}):R.dismiss(n),s}).catch(s=>{let i=t.error?ci(t.error,s):void 0;i?R.error(i,{id:n,...r,...r==null?void 0:r.error}):R.dismiss(n)}),e};var yy=(e,t)=>{pr({type:1,toast:{id:e,height:t}})},vy=()=>{pr({type:5,time:Date.now()})},Cn=new Map,wy=1e3,_y=(e,t=wy)=>{if(Cn.has(e))return;let r=setTimeout(()=>{Cn.delete(e),pr({type:4,toastId:e})},t);Cn.set(e,r)},xy=e=>{let{toasts:t,pausedAt:r}=my(e);P.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&R.dismiss(a.id);return}return setTimeout(()=>R.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[t,r]);let n=P.useCallback(()=>{r&&pr({type:6,time:Date.now()})},[r]),s=P.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=t.filter(y=>(y.position||u)===(i.position||u)&&y.height),h=c.findIndex(y=>y.id===i.id),p=c.filter((y,v)=>v<h&&y.visible).length;return c.filter(y=>y.visible).slice(...a?[p+1]:[0,p]).reduce((y,v)=>y+(v.height||0)+l,0)},[t]);return P.useEffect(()=>{t.forEach(i=>{if(i.dismissed)_y(i.id,i.removeDelay);else{let o=Cn.get(i.id);o&&(clearTimeout(o),Cn.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:yy,startPause:vy,endPause:n,calculateOffset:s}}},ky=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sy=yt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ey=yt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jy=Wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ky} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sy} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ey} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cy=yt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ty=Wt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Cy} 1s linear infinite;
`,by=yt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Py=yt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ny=Wt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${by} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Py} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$y=Wt("div")`
  position: absolute;
`,Oy=Wt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ay=yt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iy=Wt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ay} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ry=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?P.createElement(Iy,null,t):t:r==="blank"?null:P.createElement(Oy,null,P.createElement(Ty,{...n}),r!=="loading"&&P.createElement($y,null,r==="error"?P.createElement(jy,{...n}):P.createElement(Ny,{...n})))},Ly=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Dy=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,zy="0%{opacity:0;} 100%{opacity:1;}",My="0%{opacity:1;} 100%{opacity:0;}",Uy=Wt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Fy=Wt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,By=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Wh()?[zy,My]:[Ly(r),Dy(r)];return{animation:t?`${yt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Vy=P.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?By(e.position||t||"top-center",e.visible):{opacity:0},i=P.createElement(Ry,{toast:e}),o=P.createElement(Fy,{...e.ariaProps},ci(e.message,e));return P.createElement(Uy,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):P.createElement(P.Fragment,null,i,o))});cy(P.createElement);var Hy=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=P.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(e,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return P.createElement("div",{ref:i,className:t,style:r},s)},Wy=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Ky=Ii`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Es=16,Jy=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=xy(r);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Es,left:Es,right:Es,bottom:Es,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||t,h=l.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),p=Wy(c,h);return P.createElement(Hy,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Ky:"",style:p},u.type==="custom"?ci(u.message,u):s?s(u):P.createElement(Vy,{toast:u,position:c}))}))};function qy({config:e,onConfigChange:t}){const[r,n]=P.useState(!1),[s,i]=P.useState(null),[o,a]=P.useState(null),[l,u]=P.useState(!1),c=e.analysisConfig||{enabled:!1,useLocalModel:!1,localModelUrl:"http://ollama:11434",openAiModel:"gpt-4"},h=async()=>{u(!0);try{const{data:v,error:w}=await ne.functions.invoke("test-database-connection",{body:{timeout:5e3}});if(w)throw w;v.success?R.success("Підключення до бази даних успішне"):R.error(`Помилка підключення: ${v.error||"Невідома помилка"}`)}catch(v){console.error("Database test failed:",v),R.error(`Помилка перевірки: ${v.message||"Невідома помилка"}`)}finally{u(!1)}};P.useEffect(()=>{const w=setTimeout(async()=>{var k;if(!e.apiKey||e.useLocalServer){i(null),a(null);return}n(!0),i("pending"),a(null);try{const m=await fetch("https://api.openai.com/v1/models",{headers:{Authorization:`Bearer ${e.apiKey}`}});if(m.ok)(await m.json()).data.some(x=>x.id.startsWith("whisper-"))?i("valid"):(i("invalid"),a("API ключ дійсний, але не має доступу до Whisper API"));else{i("invalid");const f=await m.json();a(((k=f.error)==null?void 0:k.message)||"Недійсний API ключ")}}catch{i("invalid"),a("Помилка перевірки API ключа")}finally{n(!1)}},500);return()=>clearTimeout(w)},[e.apiKey,e.useLocalServer]);const p=()=>{if(!e.apiKey||e.useLocalServer)return null;switch(s){case"valid":return d.jsx(mh,{className:"w-5 h-5 text-green-500"});case"invalid":return d.jsx(ph,{className:"w-5 h-5 text-red-500"});case"pending":return d.jsx("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return null}},y=async()=>{const{data:v}=await ne.from("transcription_files").select("*").order("created_at",{ascending:!1});if(v){const w=v.map(k=>({...k,createdAt:new Date(k.created_at)}));await Gm(w)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Pu,{className:"w-5 h-5 text-orange-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Підключення до бази даних"})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:"Статус підключення"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Перевірте з'єднання з базою даних Asterisk"})]}),d.jsxs("button",{onClick:h,disabled:l,className:`
                flex items-center gap-2 px-4 py-2 rounded-md text-white
                ${l?"bg-gray-400":"bg-orange-500 hover:bg-orange-600"}
                transition-colors
              `,children:[l?d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):d.jsx(Pu,{className:"w-4 h-4"}),l?"Перевірка...":"Перевірити підключення"]})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(wh,{className:"w-5 h-5 text-blue-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Налаштування транскрибації"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"API Ключ OpenAI"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"password",value:e.apiKey,onChange:v=>t({...e,apiKey:v.target.value}),disabled:e.useLocalServer,className:`
                  w-full p-2 pr-10 border rounded-md
                  ${e.useLocalServer?"bg-gray-100 text-gray-500":""}
                  ${s==="invalid"?"border-red-500":""}
                  ${s==="valid"?"border-green-500":""}
                `,placeholder:e.useLocalServer?"Локальний сервер активний":"sk-..."}),d.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:p()})]}),o&&!e.useLocalServer&&d.jsx("p",{className:"mt-1 text-sm text-red-500",children:o}),s==="valid"&&!e.useLocalServer&&d.jsx("p",{className:"mt-1 text-sm text-green-500",children:"API ключ перевірено успішно"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL Локального Сервера"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Bm,{className:"w-4 h-4 text-gray-500"}),d.jsx("input",{type:"url",value:e.serverUrl,onChange:v=>t({...e,serverUrl:v.target.value}),disabled:!e.useLocalServer,className:`
                  flex-1 p-2 border rounded-md
                  ${e.useLocalServer?"":"bg-gray-100 text-gray-500"}
                `,placeholder:"http://localhost:9000"})]})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium",children:"Використовувати локальний сервер"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Замість OpenAI API використовувати локальний сервер Whisper"})]}),d.jsx(uo,{checked:e.useLocalServer,onCheckedChange:v=>t({...e,useLocalServer:v})})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Am,{className:"w-5 h-5 text-purple-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Налаштування аналізу"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium",children:"Аналіз транскрибацій"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Автоматичний аналіз розмов (проблеми, рішення, температура)"})]}),d.jsx(uo,{checked:c.enabled,onCheckedChange:v=>t({...e,analysisConfig:{...c,enabled:v}})})]}),c.enabled&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium",children:"Використовувати локальну модель"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Замість OpenAI GPT використовувати локальну модель"})]}),d.jsx(uo,{checked:c.useLocalModel,onCheckedChange:v=>t({...e,analysisConfig:{...c,useLocalModel:v}})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"URL Локальної моделі"}),d.jsx("input",{type:"url",value:c.localModelUrl,onChange:v=>t({...e,analysisConfig:{...c,localModelUrl:v.target.value}}),disabled:!c.useLocalModel,className:`
                    w-full p-2 border rounded-md
                    ${c.useLocalModel?"":"bg-gray-100 text-gray-500"}
                  `,placeholder:"http://ollama:11434"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",children:"Модель OpenAI"}),d.jsxs("select",{value:c.openAiModel,onChange:v=>t({...e,analysisConfig:{...c,openAiModel:v.target.value}}),disabled:c.useLocalModel,className:`
                    w-full p-2 border rounded-md
                    ${c.useLocalModel?"bg-gray-100 text-gray-500":""}
                  `,children:[d.jsx("option",{value:"gpt-4",children:"GPT-4 (Найкраща якість)"}),d.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o-mini (Оптимальний варіант)"}),d.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Швидше)"})]})]})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Nu,{className:"w-5 h-5 text-green-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Експорт даних"})]}),d.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[d.jsx(Nu,{className:"w-4 h-4"}),"Експортувати в Excel"]})]})})]})}async function Jh(e,t){var n;if(!t.enabled||!e.transcription)return null;if(!t.useLocalModel&&!t.apiKey)throw new Error("OpenAI API key is required for analysis when not using local model");if(t.useLocalModel&&!t.localModelUrl)throw new Error("Local model URL is required when using local model");const r=`Проаналізуй наступну транскрипцію розмови та надай структурований аналіз.

Вимоги до аналізу:

1. ПРОБЛЕМИ:
   - Виділи конкретні проблеми, про які йдеться в розмові
   - Кожна проблема має бути чітко сформульована
   - Уникай загальних формулювань
   - Якщо проблема складна, розбий її на конкретні аспекти

2. РІШЕННЯ:
   - Для кожної виявленої проблеми вкажи конкретне рішення
   - Рішення мають бути практичними та здійсненними
   - Вказуй конкретні кроки або дії
   - Якщо рішення не було запропоновано в розмові, не вигадуй його

3. ТЕМПЕРАТУРА РОЗМОВИ (оцінка від 1 до 10):
   Критерії оцінки:
   - 1-3: Холодна, формальна, можливо конфліктна розмова
   - 4-6: Нейтральна, робоча розмова
   - 7-8: Тепла, дружня розмова
   - 9-10: Дуже тепла, емоційно позитивна розмова

   Враховуй:
   - Тон спілкування
   - Використання ввічливих слів
   - Емоційне забарвлення
   - Готовність до співпраці
   - Вирішення конфліктних моментів

4. КОРОТКИЙ ЗМІСТ:
   - Стисло опиши основну суть розмови (2-3 речення)
   - Вкажи ключові результати або домовленості
   - Підсумуй загальний результат розмови

Транскрипція розмови:
${e.transcription}

Надай аналіз у такому форматі:
ПРОБЛЕМИ:
1. [Проблема 1]
2. [Проблема 2]
...

РІШЕННЯ:
1. [Рішення 1]
2. [Рішення 2]
...

ТЕМПЕРАТУРА РОЗМОВИ: [Число]/10
[Обґрунтування оцінки]

КОРОТКИЙ ЗМІСТ:
[Текст]`;try{let s;if(t.useLocalModel){if(s=await fetch(`${t.localModelUrl}/api/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"mistral",prompt:r,stream:!1,temperature:.3})}),!s.ok){const l=await s.text();throw new Error(`Failed to get response from local model: ${l}`)}const o=(await s.json()).response,a=Qu(o);return await Gu(e.id,a,"local"),a}else{if(!t.apiKey)throw new Error("OpenAI API key is required for analysis");if(s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify({model:t.openAiModel,messages:[{role:"system",content:"Ти - експерт з аналізу розмов. Твоє завдання - надавати структурований та детальний аналіз транскрибованих розмов, фокусуючись на проблемах, рішеннях та загальній атмосфері спілкування."},{role:"user",content:r}],temperature:.3})}),!s.ok){const l=await s.json();throw new Error(`OpenAI API error: ${((n=l.error)==null?void 0:n.message)||"Unknown error"}`)}const o=(await s.json()).choices[0].message.content,a=Qu(o);return await Gu(e.id,a,"openai"),a}}catch(s){throw console.error("Analysis failed:",s),s}}function Qu(e){const t=[],r=[];let n=5,s="",i="";const o=e.split(/\n\n+/);for(const a of o){const l=a.split(`
`),u=l[0].toLowerCase().trim();if(u.includes("проблем"))l.slice(1).forEach(c=>{const h=c.replace(/^[-*•\d.)\s]+/,"").trim();h&&!h.toLowerCase().includes("проблем")&&t.push(h)});else if(u.includes("рішен"))l.slice(1).forEach(c=>{const h=c.replace(/^[-*•\d.)\s]+/,"").trim();h&&!h.toLowerCase().includes("рішен")&&r.push(h)});else if(u.includes("температур")){const c=a.match(/\d+/);c&&(n=parseInt(c[0],10),i=l.slice(1).join(" ").trim())}else(u.includes("короткий зміст")||u.includes("підсум"))&&(s=l.slice(1).join(" ").trim())}return i&&(s=`${s}

Оцінка температури розмови (${n}/10): ${i}`),{problems:t.filter(a=>a.length>0),solutions:r.filter(a=>a.length>0),temperature:n,summary:s.trim()}}async function Gu(e,t,r){const{error:n}=await ne.from("transcription_files").update({analysis:t,analysis_type:r,updated_at:new Date().toISOString()}).eq("id",e);if(n)throw console.error("Failed to update file analysis:",n),n}async function Qy(e,t){for(const r of e)try{await Jh(r,t)&&console.log(`Analysis completed for file: ${r.name}`)}catch(n){throw console.error(`Failed to analyze file ${r.name}:`,n),n}}function Xu({files:e,onRemove:t,showAnalysisControls:r=!1,config:n,pagination:s,onSearch:i}){const[o,a]=P.useState(new Set),[l,u]=P.useState(new Set),[c,h]=P.useState(!1),[p,y]=P.useState(""),v=_=>{const C=_.target.value;y(C),i==null||i(C)},w=_=>{const C=new Set(o);C.has(_)?C.delete(_):C.add(_),a(C)},k=_=>{const C=new Set(l);C.has(_)?C.delete(_):C.add(_),u(C)},m=()=>{l.size===e.length?u(new Set):u(new Set(e.map(_=>_.id)))},f=async()=>{if(n){h(!0);try{const _=e.filter(C=>l.has(C.id));await Qy(_,{...n,enabled:!0}),u(new Set)}catch(_){console.error("Analysis failed:",_)}finally{h(!1)}}},g=_=>{switch(_){case"completed":return d.jsx(mh,{className:"w-4 h-4 text-green-500"});case"failed":return d.jsx(Ou,{className:"w-4 h-4 text-red-500"});case"processing":return d.jsx(Um,{className:"w-4 h-4 text-blue-500 animate-spin"});default:return d.jsx(yh,{className:"w-4 h-4 text-gray-500"})}},x=_=>_>=7?"text-green-500":_<=4?"text-red-500":"text-yellow-500",E=_=>_>=7?"bg-green-50 dark:bg-green-900/20":_<=4?"bg-red-50 dark:bg-red-900/20":"bg-yellow-50 dark:bg-yellow-900/20",b=_=>new Intl.DateTimeFormat("uk-UA",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(_);return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Файли для обробки"}),d.jsxs("div",{className:"flex items-center gap-4",children:[i&&d.jsx("input",{type:"text",value:p,onChange:v,placeholder:"Пошук...",className:"px-4 py-2 border rounded-md"}),r&&e.length>0&&d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:l.size===e.length,onChange:m,className:"rounded border-gray-300"}),"Вибрати всі"]}),d.jsxs("button",{onClick:f,disabled:l.size===0||c,className:`
                  flex items-center gap-2 px-4 py-2 rounded-md text-white
                  ${l.size===0||c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}
                `,children:[c?d.jsx($u,{className:"w-4 h-4 animate-spin"}):d.jsx($u,{className:"w-4 h-4"}),"Аналізувати вибрані"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[e.map(_=>{var C,F;return d.jsxs("div",{className:`
              border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden
              ${((C=_.analysis)==null?void 0:C.temperature)!==void 0?E(_.analysis.temperature):""}
            `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-grow",children:[r&&d.jsx("input",{type:"checkbox",checked:l.has(_.id),onChange:()=>k(_.id),className:"rounded border-gray-300"}),d.jsx(vh,{className:"w-5 h-5 text-blue-500 flex-shrink-0"}),d.jsxs("div",{className:"min-w-0 flex-grow",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-medium truncate",children:_.name}),g(_.status),((F=_.analysis)==null?void 0:F.temperature)!==void 0&&d.jsxs("div",{className:`flex items-center gap-1 ${x(_.analysis.temperature)}`,children:[d.jsx(Hm,{className:"w-4 h-4"}),d.jsxs("span",{className:"font-medium",children:[_.analysis.temperature,"/10"]})]})]}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b(_.createdAt),_.language&&` • Мова: ${_.language}`,_.processingTime&&` • Час обробки: ${_.processingTime.toFixed(1)}с`,` • ${(_.size/1024/1024).toFixed(2)} MB`]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[_.status==="processing"&&d.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${_.progress}%`}})}),_.status==="completed"&&(_.transcription||_.analysis)&&d.jsx("button",{onClick:()=>w(_.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:o.has(_.id)?d.jsx(Lm,{className:"w-5 h-5 text-gray-500"}):d.jsx(gh,{className:"w-5 h-5 text-gray-500"})}),d.jsx("button",{onClick:()=>t(_.id),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-600 rounded text-gray-500 hover:text-red-500",children:d.jsx(Ou,{className:"w-4 h-4"})})]})]}),_.status==="completed"&&o.has(_.id)&&d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[_.transcription&&d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Транскрибація:"}),d.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap mb-4",children:_.transcription})]}),_.analysis&&d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"font-medium mb-2",children:"Аналіз:"}),d.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[_.analysis.problems.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Проблеми:"}),d.jsx("ul",{className:"list-disc list-inside pl-4",children:_.analysis.problems.map(($,z)=>d.jsx("li",{children:$},z))})]}),_.analysis.solutions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Рішення:"}),d.jsx("ul",{className:"list-disc list-inside pl-4",children:_.analysis.solutions.map(($,z)=>d.jsx("li",{children:$},z))})]}),d.jsx("div",{children:d.jsxs("p",{className:"font-medium",children:["Температура розмови: ",_.analysis.temperature,"/10"]})}),_.analysis.summary&&d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:"Короткий зміст:"}),d.jsx("p",{children:_.analysis.summary})]})]})]})]})]},_.id)}),e.length===0&&d.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Немає файлів для відображення"})]}),s&&s.totalPages>1&&d.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[d.jsx("button",{onClick:()=>s.onPageChange(s.currentPage-1),disabled:s.currentPage===1,className:"px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 disabled:opacity-50",children:"Попередня"}),d.jsxs("span",{className:"px-4 py-2",children:["Сторінка ",s.currentPage," з ",s.totalPages]}),d.jsx("button",{onClick:()=>s.onPageChange(s.currentPage+1),disabled:s.currentPage===s.totalPages,className:"px-4 py-2 rounded-md bg-gray-100 dark:bg-gray-700 disabled:opacity-50",children:"Наступна"})]})]})}function Gy({stats:e,files:t=[]}){const[r,n]=P.useState("day"),[s,i]=P.useState("all"),[o,a]=P.useState(!1),l=e.pending+e.processing+e.completed+e.failed,u=v=>{if(v===0)return"0с";const w=Math.floor(v/3600),k=Math.floor(v%3600/60),m=Math.floor(v%60),f=[];return w>0&&f.push(`${w}год`),k>0&&f.push(`${k}хв`),(m>0||f.length===0)&&f.push(`${m}с`),f.join(" ")},c=()=>e.completed+e.failed===0?0:e.completed/(e.completed+e.failed)*100,h=v=>v>=7?"text-green-600 dark:text-green-400":v<=4?"text-red-600 dark:text-red-400":"text-yellow-600 dark:text-yellow-400",p=v=>v>=7?"bg-green-50 dark:bg-green-900/20":v<=4?"bg-red-50 dark:bg-red-900/20":"bg-yellow-50 dark:bg-yellow-900/20",y=P.useMemo(()=>{const v=new Date,w=new Date(v.getFullYear(),v.getMonth(),v.getDate()),k=new Date(v.getFullYear(),v.getMonth(),1),g=($=>t.filter(z=>{const O=new Date(z.createdAt);switch($){case"day":return O>=w;case"month":return O>=k;default:return!0}}))(r).filter($=>{var z;return((z=$.analysis)==null?void 0:z.temperature)!==void 0});if(g.length===0)return{average:0,low:0,medium:0,high:0,total:0,filteredFiles:[]};const E=g.reduce(($,z)=>{var O;return $+(((O=z.analysis)==null?void 0:O.temperature)||0)},0)/g.length,b=g.filter($=>{var z;return(((z=$.analysis)==null?void 0:z.temperature)||0)<=4}),_=g.filter($=>{var O;const z=((O=$.analysis)==null?void 0:O.temperature)||0;return z>4&&z<7}),C=g.filter($=>{var z;return(((z=$.analysis)==null?void 0:z.temperature)||0)>=7});let F=g;if(s!=="all")switch(s){case"low":F=b;break;case"medium":F=_;break;case"high":F=C;break}return{average:E,low:b.length,medium:_.length,high:C.length,total:g.length,filteredFiles:F}},[t,r,s]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(bu,{className:"w-5 h-5 text-blue-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Загальна статистика"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(yh,{className:"w-5 h-5 text-blue-500"}),d.jsx("span",{className:"font-medium",children:"В очікуванні"})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("p",{className:"text-3xl font-bold",children:e.pending}),d.jsx("p",{className:"text-sm text-gray-500 mb-1",children:l>0?`${(e.pending/l*100).toFixed(1)}%`:"0%"})]})]}),d.jsxs("div",{className:"p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(bu,{className:"w-5 h-5 text-yellow-500"}),d.jsx("span",{className:"font-medium",children:"В обробці"})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("p",{className:"text-3xl font-bold",children:e.processing}),d.jsx("p",{className:"text-sm text-gray-500 mb-1",children:l>0?`${(e.processing/l*100).toFixed(1)}%`:"0%"})]})]}),d.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Im,{className:"w-5 h-5 text-green-500"}),d.jsx("span",{className:"font-medium",children:"Завершено"})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("p",{className:"text-3xl font-bold",children:e.completed}),d.jsx("p",{className:"text-sm text-gray-500 mb-1",children:l>0?`${(e.completed/l*100).toFixed(1)}%`:"0%"})]})]}),d.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Jm,{className:"w-5 h-5 text-red-500"}),d.jsx("span",{className:"font-medium",children:"Помилки"})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("p",{className:"text-3xl font-bold",children:e.failed}),d.jsx("p",{className:"text-sm text-gray-500 mb-1",children:l>0?`${(e.failed/l*100).toFixed(1)}%`:"0%"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ca,{className:"w-5 h-5 text-purple-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Аналіз температури розмов"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{value:r,onChange:v=>n(v.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",children:[d.jsx("option",{value:"day",children:"За день"}),d.jsx("option",{value:"month",children:"За місяць"}),d.jsx("option",{value:"all",children:"За весь час"})]}),d.jsxs("select",{value:s,onChange:v=>i(v.target.value),className:"px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",children:[d.jsx("option",{value:"all",children:"Всі розмови"}),d.jsx("option",{value:"low",children:"Проблемні (≤4)"}),d.jsx("option",{value:"medium",children:"Нейтральні (5-6)"}),d.jsx("option",{value:"high",children:"Позитивні (≥7)"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:`p-6 rounded-lg transition-transform hover:scale-105 ${p(y.average)}`,children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Середня температура"}),d.jsxs("p",{className:`text-3xl font-bold ${h(y.average)}`,children:[y.average.toFixed(1),"/10"]})]}),d.jsxs("div",{className:"p-6 bg-red-50 dark:bg-red-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Проблемні розмови"}),d.jsxs("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:[y.low,d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:y.total>0?`${(y.low/y.total*100).toFixed(1)}%`:"0%"})]})]}),d.jsxs("div",{className:"p-6 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Нейтральні розмови"}),d.jsxs("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:[y.medium,d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:y.total>0?`${(y.medium/y.total*100).toFixed(1)}%`:"0%"})]})]}),d.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-900/20 rounded-lg transition-transform hover:scale-105",children:[d.jsx("p",{className:"text-sm font-medium mb-2",children:"Позитивні розмови"}),d.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:[y.high,d.jsx("span",{className:"text-sm text-gray-500 ml-2",children:y.total>0?`${(y.high/y.total*100).toFixed(1)}%`:"0%"})]})]})]}),y.filteredFiles.length>0&&d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-2 mb-4 text-blue-500 hover:text-blue-600",children:[d.jsx(gh,{className:`w-4 h-4 transform transition-transform ${o?"rotate-90":""}`}),o?"Приховати деталі":"Показати деталі"]}),o&&d.jsx("div",{className:"space-y-2",children:y.filteredFiles.map(v=>{var w,k,m;return d.jsx("div",{className:`p-4 rounded-lg ${p(((w=v.analysis)==null?void 0:w.temperature)||0)}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:v.name}),d.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.createdAt).toLocaleString("uk-UA")})]}),d.jsx("div",{className:`flex items-center gap-2 ${h(((k=v.analysis)==null?void 0:k.temperature)||0)}`,children:d.jsxs("span",{className:"font-bold",children:[(m=v.analysis)==null?void 0:m.temperature,"/10"]})})]})},v.id)})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Wm,{className:"w-5 h-5 text-purple-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Час обробки"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"p-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[d.jsx("p",{className:"text-4xl font-bold text-purple-600 dark:text-purple-400",children:u(e.averageProcessingTime)}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Середній час обробки файлу"})]}),d.jsxs("div",{className:"p-6 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:[d.jsx("p",{className:"text-4xl font-bold text-indigo-600 dark:text-indigo-400",children:u(e.totalProcessingTime)}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Загальний час обробки"})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(ca,{className:"w-5 h-5 text-green-500"}),d.jsx("h2",{className:"text-xl font-semibold",children:"Ефективність"})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[d.jsxs("p",{className:"text-4xl font-bold text-green-600 dark:text-green-400",children:[c().toFixed(1),"%"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Успішність обробки"})]}),d.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[d.jsx("p",{className:"text-4xl font-bold text-blue-600 dark:text-blue-400",children:l}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Всього файлів оброблено"})]})]})]})]})]})}function Xy({activeTab:e,onTabChange:t}){const r=[{id:"settings",label:"Налаштування",icon:d.jsx(wh,{className:"w-4 h-4"})},{id:"queue",label:"Черга",icon:d.jsx(Mm,{className:"w-4 h-4"})},{id:"completed",label:"Завершені",icon:d.jsx(Rm,{className:"w-4 h-4"})},{id:"stats",label:"Статистика",icon:d.jsx(ca,{className:"w-4 h-4"})}];return d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"flex space-x-4","aria-label":"Tabs",children:r.map(({id:n,label:s,icon:i})=>d.jsxs("button",{onClick:()=>t(n),className:`
              flex items-center gap-2 px-4 py-2 text-sm font-medium
              ${e===n?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[i,s]},n))})})}function Yy({logs:e}){const t=r=>{switch(r){case"error":return d.jsx(ph,{className:"w-4 h-4 text-red-500"});case"warning":return d.jsx(Om,{className:"w-4 h-4 text-yellow-500"});default:return d.jsx(zm,{className:"w-4 h-4 text-blue-500"})}};return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 mt-4",children:[d.jsx("h3",{className:"text-lg font-medium mb-4",children:"Журнал подій"}),d.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.map(r=>d.jsxs("div",{className:`
              flex items-start gap-2 p-2 rounded-md
              ${r.level==="error"?"bg-red-50 dark:bg-red-900/20":r.level==="warning"?"bg-yellow-50 dark:bg-yellow-900/20":"bg-blue-50 dark:bg-blue-900/20"}
            `,children:[t(r.level),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm",children:r.message}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(r.createdAt).toLocaleString()})]})]},r.id))})]})}const Zy={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dXZ3bWZqempybGV4eGl4eWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2MTcyMTYsImV4cCI6MjA1MzE5MzIxNn0.QzHV20PuXeDt00XrgyljnKY0tJibNiJyywaslec2T1A",VITE_SUPABASE_URL:"https://uuuvwmfjzjrlexxixyjs.supabase.co"},Yu=e=>{let t;const r=new Set,n=(c,h)=>{const p=typeof c=="function"?c(t):c;if(!Object.is(p,t)){const y=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(v=>v(t,y))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(Zy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,l);return l},ev=e=>e?Yu(e):Yu;var qh={exports:{}},Qh={},Gh={exports:{}},Xh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=P;function tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rv=typeof Object.is=="function"?Object.is:tv,nv=Kr.useState,sv=Kr.useEffect,iv=Kr.useLayoutEffect,ov=Kr.useDebugValue;function av(e,t){var r=t(),n=nv({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return iv(function(){s.value=r,s.getSnapshot=t,mo(s)&&i({inst:s})},[e,r,t]),sv(function(){return mo(s)&&i({inst:s}),e(function(){mo(s)&&i({inst:s})})},[e]),ov(r),r}function mo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rv(e,r)}catch{return!0}}function lv(e,t){return t()}var uv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lv:av;Xh.useSyncExternalStore=Kr.useSyncExternalStore!==void 0?Kr.useSyncExternalStore:uv;Gh.exports=Xh;var cv=Gh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=P,dv=cv;function hv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fv=typeof Object.is=="function"?Object.is:hv,pv=dv.useSyncExternalStore,mv=Ri.useRef,gv=Ri.useEffect,yv=Ri.useMemo,vv=Ri.useDebugValue;Qh.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=mv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=yv(function(){function l(y){if(!u){if(u=!0,c=y,y=n(y),s!==void 0&&o.hasValue){var v=o.value;if(s(v,y))return h=v}return h=y}if(v=h,fv(c,y))return v;var w=n(y);return s!==void 0&&s(v,w)?(c=y,v):(c=y,h=w)}var u=!1,c,h,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,s]);var a=pv(e,i[0],i[1]);return gv(function(){o.hasValue=!0,o.value=a},[a]),vv(a),a};qh.exports=Qh;var wv=qh.exports;const _v=ec(wv),Yh={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dXZ3bWZqempybGV4eGl4eWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2MTcyMTYsImV4cCI6MjA1MzE5MzIxNn0.QzHV20PuXeDt00XrgyljnKY0tJibNiJyywaslec2T1A",VITE_SUPABASE_URL:"https://uuuvwmfjzjrlexxixyjs.supabase.co"},{useDebugValue:xv}=vf,{useSyncExternalStoreWithSelector:kv}=_v;let Zu=!1;const Sv=e=>e;function Ev(e,t=Sv,r){(Yh?"production":void 0)!=="production"&&r&&!Zu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Zu=!0);const n=kv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return xv(n),n}const jv=e=>{(Yh?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?ev(e):e,r=(n,s)=>Ev(t,n,s);return Object.assign(r,t),r},Zh=e=>jv,Cv={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dXZ3bWZqempybGV4eGl4eWpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzc2MTcyMTYsImV4cCI6MjA1MzE5MzIxNn0.QzHV20PuXeDt00XrgyljnKY0tJibNiJyywaslec2T1A",VITE_SUPABASE_URL:"https://uuuvwmfjzjrlexxixyjs.supabase.co"};function Tv(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const o=l=>l===null?null:JSON.parse(l,void 0),a=(i=r.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Wn=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Wn(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Wn(n)(r)}}}},bv=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,m)=>({...m,...k}),...t},o=!1;const a=new Set,l=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...k)},n,s);const c=Wn(i.serialize),h=()=>{const k=i.partialize({...n()});let m;const f=c({state:k,version:i.version}).then(g=>u.setItem(i.name,g)).catch(g=>{m=g});if(m)throw m;return f},p=s.setState;s.setState=(k,m)=>{p(k,m),h()};const y=e((...k)=>{r(...k),h()},n,s);let v;const w=()=>{var k;if(!u)return;o=!1,a.forEach(f=>f(n()));const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,n()))||void 0;return Wn(u.getItem.bind(u))(i.name).then(f=>{if(f)return i.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return i.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var g;return v=i.merge(f,(g=n())!=null?g:y),r(v,!0),h()}).then(()=>{m==null||m(v,void 0),o=!0,l.forEach(f=>f(v))}).catch(f=>{m==null||m(void 0,f)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(u=k.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(l.add(k),()=>{l.delete(k)})},w(),v||y},Pv=(e,t)=>(r,n,s)=>{let i={storage:Tv(()=>localStorage),partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...t},o=!1;const a=new Set,l=new Set;let u=i.storage;if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,s);const c=()=>{const w=i.partialize({...n()});return u.setItem(i.name,{state:w,version:i.version})},h=s.setState;s.setState=(w,k)=>{h(w,k),c()};const p=e((...w)=>{r(...w),c()},n,s);s.getInitialState=()=>p;let y;const v=()=>{var w,k;if(!u)return;o=!1,a.forEach(f=>{var g;return f((g=n())!=null?g:p)});const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(w=n())!=null?w:p))||void 0;return Wn(u.getItem.bind(u))(i.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate)return[!0,i.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var g;const[x,E]=f;if(y=i.merge(E,(g=n())!=null?g:p),r(y,!0),x)return c()}).then(()=>{m==null||m(y,void 0),y=n(),o=!0,l.forEach(f=>f(y))}).catch(f=>{m==null||m(void 0,f)})};return s.persist={setOptions:w=>{i={...i,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(l.add(w),()=>{l.delete(w)})},i.skipHydration||v(),y||p},Nv=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Cv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),bv(e,t)):Pv(e,t),ef=Nv,$v=Zh()(ef(e=>({theme:"light",setTheme:t=>{e({theme:t}),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{e(t=>{const r=t.theme==="light"?"dark":"light";return r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),{theme:r}})}}),{name:"theme-storage"}));function Ov(){const{theme:e,toggleTheme:t}=$v();return d.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:e==="light"?d.jsx(Fm,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}):d.jsx(Vm,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})}function Av(e){const t=e.split(new RegExp("(?<=[.!?])\\s+")),r=[];let n="";const s=16e3;for(const i of t)(n+i).length>s&&n.length>0?(r.push(n.trim()),n=i):n+=(n?" ":"")+i;return n.length>0&&r.push(n.trim()),r}async function Iv(e){const t={problems:[],solutions:[],temperature:0,summary:""};for(const r of e)t.problems.push(...r.problems),t.solutions.push(...r.solutions);return t.problems=Array.from(new Set(t.problems)),t.solutions=Array.from(new Set(t.solutions)),t.temperature=Math.round(e.reduce((r,n)=>r+n.temperature,0)/e.length),t.summary=e.map(r=>r.summary).filter(Boolean).join(`

`),t}function Rv(e){const t=e.match(/[^.!?]+[.!?]+/g)||[],r=(o,a)=>{const l=o.toLowerCase().split(/\s+/),u=a.toLowerCase().split(/\s+/);return l.length===0||u.length===0?0:l.filter(h=>u.includes(h)).length/Math.max(l.length,u.length)},n=o=>{const a=o.match(/\S+/g)||[];if(a.length===0)return o;const l=[a[0]],u=new Set;u.add(a[0].toLowerCase());for(let c=1;c<a.length;c++){let h=!0;for(let p=1;p<=5&&c+p<=a.length;p++){const y=a.slice(c,c+p).join(" ").toLowerCase();for(const v of u)if(r(y,v)>.8){h=!1;break}if(h)u.add(y);else break}h&&l.push(a[c])}return l.join(" ")},s=[],i=new Set;for(const o of t){const a=n(o.trim());let l=!1;for(const u of i)if(r(a.toLowerCase(),u.toLowerCase())>.8){l=!0;break}!l&&a.length>0&&(s.push(a),i.add(a.toLowerCase()))}return s.join(" ").trim()}function Lv(e){const t={да:"так",нет:"ні",щас:"зараз",сейчас:"зараз",пока:"поки",спасибо:"дякую",пожалуйста:"будь ласка",конечно:"звичайно",тоже:"також",вообще:"взагалі",короче:"коротше",ладно:"гаразд",хорошо:"добре",ого:"ого-го",ну:"ну",всё:"все",что:"що",если:"якщо",просто:"просто",только:"тільки"},r=(s,i)=>s===s.toLowerCase()?i:s===s.toUpperCase()?i.toUpperCase():s[0]===s[0].toUpperCase()?i.charAt(0).toUpperCase()+i.slice(1):i;let n=e;for(const[s,i]of Object.entries(t)){const o=new RegExp(`\\b${s}\\b`,"gi");n=n.replace(o,a=>r(a,i))}return n=n.replace(/\s+/g," ").replace(/\s+([.,!?])/g,"$1").replace(/"+/g,'"').replace(/([.,!?])([А-ЯЁа-яёA-Za-z])/g,"$1 $2").replace(/([.,!?])\1+/g,"$1").replace(/\b(\w+)(\s+\1\b)+/g,"$1").trim(),n}async function Dv(e,t){var r;try{if(await bt(),!e||!e.fileData)throw new Error("Missing file data");if(!e.fileData.type.startsWith("audio/"))throw new Error(`Invalid file type: ${e.fileData.type}`);if(!t.useLocalServer&&!t.apiKey)throw new Error("Please configure API key or local server before uploading files");const n=Date.now();await Ss(e.id,"processing",0),await it(e.id,"info",`Starting transcription for ${e.name}`);const s=new FormData;s.append("file",e.fileData,e.name),s.append("model","whisper-1"),s.append("response_format","json"),s.append("language","uk"),s.append("temperature","0.2"),s.append("prompt","Це розмова українською мовою, можливо з домішками російських слів.");const i=t.useLocalServer?t.serverUrl:"https://api.openai.com/v1/audio/transcriptions";await Ss(e.id,"processing",25),await it(e.id,"info",`Uploading file ${e.name} to transcription service...`);const o=3;let a=null;for(let l=0;l<o;l++){if(l>0){await it(e.id,"warning",`Retrying transcription (attempt ${l+1} of ${o})`);const h=Math.min(1e3*Math.pow(2,l),1e4);await new Promise(p=>setTimeout(p,h))}const u=new AbortController,c=setTimeout(()=>u.abort(),3e5);try{const h={Accept:"application/json"};t.useLocalServer||(h.Authorization=`Bearer ${t.apiKey}`);const p=await fetch(i,{method:"POST",headers:h,body:s,signal:u.signal});if(clearTimeout(c),await Ss(e.id,"processing",75),!p.ok){let f=`HTTP error! status: ${p.status}`;try{f=((r=(await p.json()).error)==null?void 0:r.message)||f}catch{try{f=await p.text()||f}catch{}}throw new Error(f)}const y=await p.json();if(!y||typeof y.text!="string")throw new Error(`Invalid response format: ${JSON.stringify(y)}`);const v=Rv(y.text),w=Lv(v),k=(Date.now()-n)/1e3,{error:m}=await ne.from("transcription_files").update({status:"completed",transcription:w,language:"uk",progress:100,processing_time:k,error:null,updated_at:new Date().toISOString()}).eq("id",e.id);if(m)throw new Error(`Failed to update file status: ${m.message}`);if(await it(e.id,"info","Transcription completed successfully"),t.analysisConfig.enabled){await it(e.id,"info","Starting automatic analysis...");try{const f=Av(w),g=[];for(let x=0;x<f.length;x++){await it(e.id,"info",`Analyzing part ${x+1} of ${f.length}...`);const E=await Jh({...e,transcription:f[x]},t.analysisConfig);E&&g.push(E)}if(g.length>0){const x=await Iv(g),{error:E}=await ne.from("transcription_files").update({analysis:x,analysis_type:t.analysisConfig.useLocalModel?"local":"openai",updated_at:new Date().toISOString()}).eq("id",e.id);if(E)throw E}await it(e.id,"info","Analysis completed successfully")}catch(f){const g=f instanceof Error?f.message:"Unknown error during analysis";await it(e.id,"error",`Analysis failed: ${g}`)}}return}catch(h){clearTimeout(c);const p=h instanceof Error?h.message:"Unknown error occurred";if(console.error("Transcription attempt failed:",{error:p,attempt:l}),h instanceof Error?a=h.name==="AbortError"?new Error("Transcription request timed out after 5 minutes"):h:a=new Error("Unknown error occurred"),l===o-1)throw a}}}catch(n){const s=n instanceof Error?n.message:"Unknown error occurred";throw console.error("Transcription error:",{error:s,file:{id:e.id,name:e.name}}),await Ss(e.id,"failed",0,s),await it(e.id,"error",s),n}}const zv=Zh()(ef(e=>({config:{apiKey:"",serverUrl:"https://api.openai.com/v1/audio/transcriptions",useLocalServer:!1,watchInterval:5e3,analysisConfig:{enabled:!1,useLocalModel:!1,localModelUrl:"http://ollama:11434",openAiModel:"gpt-4",analysisType:"problems-solutions",apiKey:""}},setConfig:t=>e({config:t})}),{name:"transcription-config"}));let go=!1,yo=0;const Mv=1e4;async function Uv(e=3e4){const t=Date.now();if(!(t-yo<Mv)&&!go)try{go=!0,yo=t;const r=new AbortController,n=setTimeout(()=>r.abort(),e),{data:s,error:i}=await ne.functions.invoke("sync-external-calls",{signal:r.signal,body:{lastSync:yo}});if(clearTimeout(n),i){if(i.name==="AbortError"){console.warn("Sync operation timed out");return}if(i.name==="FunctionsFetchError"){console.error("Edge Function not deployed or misconfigured");return}throw console.error("Sync error:",i),R.error("Помилка синхронізації з зовнішньою базою"),i}s!=null&&s.message&&console.log("Sync result:",s.message)}catch(r){if(r.name==="AbortError"){console.warn("Sync operation timed out");return}if(r.name==="FunctionsFetchError")return;throw console.error("Failed to sync external calls:",r),r}finally{go=!1}}async function Fv(e=1,t=25,r){try{let n=ne.from("external_calls_cache").select("*",{count:"exact"});r&&(n=n.or(`source.ilike.%${r}%,destination.ilike.%${r}%,transcription.ilike.%${r}%`));const{data:s,error:i,count:o}=await n.order("call_date",{ascending:!1}).range((e-1)*t,e*t-1);if(i)throw console.error("Database error:",i),R.error("Помилка отримання даних"),i;return{data:(s||[]).map(a=>({id:a.id,name:`${new Date(a.call_date).toLocaleString("uk-UA")} - ${a.source} → ${a.destination}`,path:a.recording_file,size:0,status:"completed",transcription:a.transcription,progress:100,createdAt:new Date(a.call_date),analysis:{problems:[],solutions:[],temperature:5,summary:""}})),total:o||0}}catch(n){throw console.error("Failed to get external calls:",n),n}}function Bv(){const{config:e,setConfig:t}=zv(),[r,n]=P.useState("queue"),[s,i]=P.useState([]),[o,a]=P.useState([]),l=P.useRef(null),u=P.useRef(null),c=P.useRef(new Map),[h,p]=P.useState(1),[y,v]=P.useState(1),[w,k]=P.useState(""),m=25,[f,g]=P.useState({pending:0,processing:0,completed:0,failed:0,averageProcessingTime:0,totalProcessingTime:0});P.useEffect(()=>{t({...e,analysisConfig:{...e.analysisConfig,apiKey:e.apiKey}})},[e.apiKey]),P.useEffect(()=>{bt()},[]),P.useEffect(()=>{const O=async()=>{try{await Uv(1e4);const{data:W,total:X}=await Fv(h,m,w);W.length>0&&(i(B=>{const we=[...B];for(const j of W){const A=we.findIndex(N=>N.id===j.id);A===-1?we.push(j):we[A]=j}return we}),v(Math.ceil(X/m)))}catch(W){W.name!=="AbortError"&&console.error("Sync failed:",W)}};O();const M=setInterval(O,6e4);return()=>clearInterval(M)},[h,w]);const x=async()=>{await bt();const{data:O}=await ne.from("transcription_files").select("*").order("created_at",{ascending:!1});O&&i(O.map(M=>({...M,createdAt:new Date(M.created_at)})))},E=async()=>{await bt();const{data:O}=await ne.from("transcription_logs").select("*").order("created_at",{ascending:!1});O&&a(O.map(M=>({...M,createdAt:new Date(M.created_at)})))};P.useEffect(()=>{x(),E();const O=ne.channel("files-changes").on("postgres_changes",{event:"*",schema:"public",table:"transcription_files"},B=>{console.log("Files change received:",B),x()}).subscribe(B=>{console.log("Files subscription status:",B)}),M=ne.channel("logs-changes").on("postgres_changes",{event:"*",schema:"public",table:"transcription_logs"},B=>{console.log("Logs change received:",B),E()}).subscribe(B=>{console.log("Logs subscription status:",B)}),W=setInterval(x,5e3),X=setInterval(E,5e3);return()=>{O.unsubscribe(),M.unsubscribe(),clearInterval(W),clearInterval(X),c.current.clear()}},[]),P.useEffect(()=>{(()=>{const M=s.filter(N=>N.status==="pending").length,W=s.filter(N=>N.status==="processing").length,X=s.filter(N=>N.status==="completed").length,B=s.filter(N=>N.status==="failed").length,we=s.filter(N=>N.status==="completed"&&N.processingTime),j=we.reduce((N,q)=>N+(q.processingTime||0),0),A=we.length?j/we.length:0;g({pending:M,processing:W,completed:X,failed:B,averageProcessingTime:A,totalProcessingTime:j})})()},[s]);const b=async O=>{const{data:M}=await ne.from("transcription_files").select("id, name, status").eq("name",O).not("status","eq","failed");return M&&M.length>0?M[0]:null},_=async O=>{var M;try{if(await bt(),!e.apiKey&&!e.useLocalServer){R.error("Будь ласка, налаштуйте API ключ або локальний сервер перед завантаженням файлів"),n("settings");return}let W=0,X=0;for(const B of O)try{if(!B.type.startsWith("audio/")){R.error(`Невірний тип файлу для ${B.name}`),X++;continue}if(await b(B.name)){R.error(`Файл ${B.name} вже існує`),X++;continue}const{data:j,error:A}=await ne.from("transcription_files").insert({name:B.name,path:"pending",size:B.size,status:"pending",progress:0,user_id:(M=(await ne.auth.getUser()).data.user)==null?void 0:M.id}).select().single();if(A){R.error(`Помилка при додаванні файлу: ${A.message}`),X++;continue}if(!j)throw new Error("No data returned from insert");c.current.set(j.id,B),R.loading(`Початок транскрибації файлу: ${B.name}`,{id:`transcription-${j.id}`});try{await Dv({...j,createdAt:new Date(j.created_at),fileData:B},e),R.success(`Транскрибація завершена: ${B.name}`,{id:`transcription-${j.id}`}),W++}catch(N){const q=N instanceof Error?N.message:"Невідома помилка";throw R.error(`Помилка транскрибації: ${q}`,{id:`transcription-${j.id}`}),X++,N}finally{c.current.delete(j.id)}}catch(we){console.error("Error processing file:",we),X++}if(W>0||X>0){const B=[];W>0&&B.push(`Успішно оброблено: ${W}`),X>0&&B.push(`Помилок: ${X}`),R(B.join(", "),{icon:W>0?"✅":"❌"})}}catch(W){console.error("Error in processAudioFiles:",W),R.error("Помилка при обробці файлів")}},C=async O=>{if(O.preventDefault(),!e.apiKey&&!e.useLocalServer){R.error("Будь ласка, налаштуйте API ключ або локальний сервер перед завантаженням файлів"),n("settings");return}const W=Array.from(O.target.files||[]).filter(X=>X.type.startsWith("audio/"));if(W.length===0){R.error("Будь ласка, виберіть аудіо файли (WAV або MP3)");return}try{await _(W)}catch(X){console.error("Error processing files:",X),R.error("Помилка при обробці файлів. Будь ласка, перевірте налаштування та спробуйте ще раз.")}l.current&&(l.current.value="")},F=async O=>{if(O.preventDefault(),!e.apiKey&&!e.useLocalServer){R.error("Будь ласка, налаштуйте API ключ або локальний сервер перед завантаженням файлів"),n("settings");return}const M=Array.from(O.target.files||[]),W=M.filter(X=>X.type.startsWith("audio/"));if(W.length===0){R.error("Будь ласка, виберіть папку з аудіо файлами (WAV або MP3)");return}R(`Знайдено ${W.length} аудіо файлів з ${M.length} файлів`);try{await _(W)}catch(X){console.error("Error processing folder:",X),R.error("Помилка при обробці файлів. Будь ласка, перевірте налаштування та спробуйте ще раз.")}u.current&&(u.current.value="")},$=async O=>{try{await bt(),c.current.delete(O);const{error:M}=await ne.from("transcription_files").delete().eq("id",O);M?(R.error("Помилка при видаленні файлу"),console.error("Error removing file:",M)):R.success("Файл успішно видалено")}catch(M){R.error("Помилка при видаленні файлу"),console.error("Error removing file:",M)}},z=()=>{switch(r){case"queue":return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg",children:d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx(Km,{className:"w-12 h-12 text-blue-500 mb-4"}),d.jsx("p",{className:"text-lg font-medium mb-4",children:"Виберіть аудіо файли для транскрибації"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>{var O;return(O=l.current)==null?void 0:O.click()},className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:[d.jsx(vh,{className:"w-4 h-4"}),"Вибрати файли"]}),d.jsxs("button",{onClick:()=>{var O;return(O=u.current)==null?void 0:O.click()},className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors",children:[d.jsx(Dm,{className:"w-4 h-4"}),"Вибрати папку"]})]}),d.jsx("input",{ref:l,type:"file",accept:"audio/*",multiple:!0,className:"hidden",onChange:C}),d.jsx("input",{ref:u,type:"file",webkitdirectory:"",directory:"",className:"hidden",onChange:F}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Підтримуються формати WAV та MP3"})]})}),d.jsx(Xu,{files:s.filter(O=>["pending","processing"].includes(O.status)),onRemove:$})]});case"completed":return d.jsx(Xu,{files:s.filter(O=>["completed","failed"].includes(O.status)),onRemove:$,showAnalysisControls:!0,config:e.analysisConfig,pagination:{currentPage:h,totalPages:y,onPageChange:p},onSearch:k});case"stats":return d.jsx(Gy,{stats:f,files:s});case"settings":return d.jsxs("div",{className:"space-y-6",children:[d.jsx(qy,{config:e,onConfigChange:t}),d.jsx(Yy,{logs:o})]});default:return null}};return d.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 p-6",children:[d.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(Xy,{activeTab:r,onTabChange:n}),d.jsx(Ov,{})]}),d.jsx("div",{className:"mt-6",children:z()})]}),d.jsx(Jy,{position:"top-right",toastOptions:{duration:5e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}fh(document.getElementById("root")).render(d.jsx(P.StrictMode,{children:d.jsx(Bv,{})}));export{ec as g};
